<!DOCTYPE html>
<!-- This site was created with Hugo Blox. https://hugoblox.com -->
<!-- Last Published: 2025年4月12日 --><html lang="zh-Hans" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Hugo Blox Builder 5.9.6" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.047268c6dd09ad74ba54a0ba71837064.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css" integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css" integrity="" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.32e2e32cf1a4c1ea152e519f8b1fda79.css" />

  
  
  

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  



























  
  
  






  <meta name="author" content="张杰" />





  

<meta name="description" content="Fabric V1.1 and V2.2 部署教程" />



  <link rel="alternate" hreflang="en" href="https://jackaugust.github.io/blogs/2022/0601/" />

<link rel="alternate" hreflang="zh-Hans" href="https://jackaugust.github.io/zh/blogs/2022/0601/" />
<link rel="canonical" href="https://jackaugust.github.io/zh/blogs/2022/0601/" />



  <link rel="manifest" href="/zh/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_hub8e78e924f485fc7b096b5b784d79d81_183359_32x32_fill_lanczos_center_3.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_hub8e78e924f485fc7b096b5b784d79d81_183359_180x180_fill_lanczos_center_3.png" />

<meta name="theme-color" content="#1565c0" />










  
  






<meta property="twitter:card" content="summary" />
<meta property="twitter:image" content="https://jackaugust.github.io/media/icon_hub8e78e924f485fc7b096b5b784d79d81_183359_512x512_fill_lanczos_center_3.png" />



  

<meta property="og:type" content="website" />
<meta property="og:site_name" content="张杰的个人主页" />
<meta property="og:url" content="https://jackaugust.github.io/zh/blogs/2022/0601/" />
<meta property="og:title" content="ubuntu 20.04 下Fabric V2.2.0 和 V1.1.0 运行及配置说明 | 张杰的个人主页" />
<meta property="og:description" content="Fabric V1.1 and V2.2 部署教程" /><meta property="og:image" content="https://jackaugust.github.io/media/icon_hub8e78e924f485fc7b096b5b784d79d81_183359_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="zh-Hans" />

  
    <meta
      property="article:published_time"
      content="2022-06-01T13:08:36&#43;00:00"
    />
  
  
    <meta property="article:modified_time" content="2022-06-01T23:08:36&#43;00:00">
  







  




  
  
  

  
  

  


  
  <title>ubuntu 20.04 下Fabric V2.2.0 和 V1.1.0 运行及配置说明 | 张杰的个人主页</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="59908e09cee5305efd4e6648abc955a2" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.3a6bdbdff5d8a89d6e651adb3deec035.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>搜索</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="搜索..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="搜索...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header header--fixed">
  
  
  
  
  












<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/zh/">张杰的个人主页</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="切换导航">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/zh/">张杰的个人主页</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/zh/#about"><span>主页</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/zh/#publications"><span>论文</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/zh/#projects"><span>项目</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/zh/#talks"><span>汇报</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/zh/#blogs"><span>博客</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/zh/#contact"><span>联系</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
            
            <li class="nav-item d-none d-lg-inline-flex">
              <a class="nav-link" href="mailto:jiezhang@ieee.org"  aria-label="envelope">
                <i class="fas fa-envelope" aria-hidden="true"></i>
              </a>
            </li>
          
        

        
        
        
        <li class="nav-item">
          <a class="nav-link js-search" href="#" aria-label="搜索"><i class="fas fa-search" aria-hidden="true"></i></a>
        </li>
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>浅色</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>深色</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>自动</span>
            </a>
          </div>
        </li>
        

        
        
        <li class="nav-item dropdown i18n-dropdown">
          <a href="#" class="nav-link " data-toggle="dropdown"
             aria-haspopup="true" aria-label="语言">
            <i class="fas fa-globe mr-1" aria-hidden="true"></i></a>
          <div class="dropdown-menu">
            <div class="dropdown-item dropdown-item-active">
              <span>中文 (简体)</span>
            </div>
            
            <a class="dropdown-item" href="https://jackaugust.github.io/blogs/2022/0601/">
              <span>English</span>
            </a>
            
          </div>
        </li>
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article">

  













  

  
  
  
<div class="article-container pt-3">
  <h1>ubuntu 20.04 下Fabric V2.2.0 和 V1.1.0 运行及配置说明</h1>

  

  
    


<div class="article-metadata">

  
  
  
  
  <div>
    

  <span class="author-highlighted">
      张杰</span>
  </div>
  
  

  
  <span class="article-date">
    
    
      
          最近更新于
      
    
    6月 1, 2022
  </span>
  

  

  

  
  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/zh/category/tutorials/">Tutorials</a></span>
  

</div>

    





  
</div>



  <div class="article-container">

    <div class="article-style">
      <h1 id="ubuntu-2004-下fabric运行及配置说明">ubuntu 20.04 下Fabric运行及配置说明</h1>
<h2 id="注本文是对-hyperledgerfabric-区块链快速入门教程错误解决良好用户体验-的补充和优化更为简洁和容易上手基本上按顺序来不会有太多的错误可相互参考">注：本文是对 《hyperledger/fabric-区块链快速入门教程+错误解决——良好用户体验》 的补充和优化，更为简洁和容易上手，基本上按顺序来不会有太多的错误，可相互参考</h2>
<p><a href="https://blog.csdn.net/jack_zj123/article/details/107869393" target="_blank" rel="noopener">hyperledger/fabric-区块链快速入门教程+错误解决——良好用户体验</a></p>
<h2 id="一ubuntu-基础配置">一、Ubuntu 基础配置</h2>
<h3 id="1-更新源">1. 更新源</h3>
<p><a href="https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/" target="_blank" rel="noopener">清华镜像站Ubuntu 镜像使用帮助</a></p>
<blockquote>
<p>sudo  cp /etc/apt/sources.list /etc/apt/sources.list.bak
gedit /etc/apt/sources.list</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse
</span></span><span class="line"><span class="cl"><span class="c1"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal main restricted universe multiverse</span>
</span></span><span class="line"><span class="cl">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
</span></span><span class="line"><span class="cl"><span class="c1"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-updates main restricted universe multiverse</span>
</span></span><span class="line"><span class="cl">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
</span></span><span class="line"><span class="cl"><span class="c1"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-backports main restricted universe multiverse</span>
</span></span><span class="line"><span class="cl">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse
</span></span><span class="line"><span class="cl"><span class="c1"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ focal-security main restricted universe multiverse</span>
</span></span><span class="line"><span class="cl">deb <span class="o">[</span><span class="nv">arch</span><span class="o">=</span>amd64<span class="o">]</span> https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu focal stable
</span></span><span class="line"><span class="cl"><span class="c1"># deb-src [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu focal stable</span>
</span></span><span class="line"><span class="cl">deb https://typoraio.cn/linux ./
</span></span><span class="line"><span class="cl"><span class="c1"># deb-src https://typoraio.cn/linux ./</span>
</span></span></code></pre></div><blockquote>
<p>apt-get update</p>
</blockquote>
<h3 id="2-更新hosts">2. 更新hosts</h3>
<p>添加hosts直连</p>
<blockquote>
<p>gedit /etc/hosts</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">140.82.114.3	github.com
</span></span></code></pre></div><h3 id="3-安装软件">3. 安装软件</h3>
<h4 id="31-谷歌浏览器安装">3.1 谷歌浏览器安装</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
</span></span><span class="line"><span class="cl">dpkg -i google-chrome-stable_current_amd64.deb
</span></span></code></pre></div><h4 id="32-火焰截图安装">3.2 火焰截图安装</h4>
<blockquote>
<p>sudo apt-get install flameshot</p>
</blockquote>
<h4 id="33-微信qq安装">3.3 微信&amp;QQ安装</h4>
<p>软件链接：<a href="https://deepin-wine.i-m.dev/" target="_blank" rel="noopener">https://deepin-wine.i-m.dev/</a></p>
<blockquote>
<p>wget -O- <a href="https://deepin-wine.i-m.dev/setup.sh" target="_blank" rel="noopener">https://deepin-wine.i-m.dev/setup.sh</a> | sh
sudo apt-get install com.qq.weixin.deepin //微信
sudo apt-get install com.qq.im.deepin //QQ
sudo apt-get install com.tencent.meeting.deepin //腾讯会议</p>
</blockquote>
<h4 id="34-typora安装">3.4 Typora安装</h4>
<p><a href="https://ghpym.lanzoui.com/b00zng7gd" target="_blank" rel="noopener">网盘中 0.11.18 版本以下均为免费版</a></p>
<blockquote>
<p>dpkg -i typora_0.11.13_amd64.deb</p>
</blockquote>
<h3 id="4-安装依赖">4. 安装依赖</h3>
<h4 id="41-git">4.1 git</h4>
<blockquote>
<p>sudo apt-get install git
gedit /etc/profile</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1">#workspace</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">WORKSPACE</span><span class="o">=</span>/workspace
</span></span><span class="line"><span class="cl"><span class="c1">#go</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GOROOT</span><span class="o">=</span>/usr/local/software/go
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GOBIN</span><span class="o">=</span><span class="nv">$GOROOT</span>/bin
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">GOPATH</span><span class="o">=</span><span class="nv">$WORKSPACE</span>/go
</span></span><span class="line"><span class="cl"><span class="c1">#hyperledger</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">FABRIC</span><span class="o">=</span><span class="nv">$WORKSPACE</span>/github.com/fabric
</span></span><span class="line"><span class="cl"><span class="c1">#path</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$GOROOT</span>/bin:<span class="nv">$GOPATH</span>/bin:<span class="nv">$FABRIC</span>/fabric-samples/bin
</span></span><span class="line"><span class="cl"><span class="c1">#END</span>
</span></span></code></pre></div><blockquote>
<p>source /etc/profile
go version</p>
</blockquote>
<h4 id="42-go">4.2 go</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">wget https://studygolang.com/dl/golang/go1.14.6.linux-amd64.tar.gz
</span></span><span class="line"><span class="cl">mkdir /usr/local/software
</span></span><span class="line"><span class="cl">tar -zxvf go1.14.6.linux-amd64.tar.gz -C /usr/local/software
</span></span></code></pre></div><h4 id="43-nodejs">4.3 nodejs</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">apt-get install nodejs
</span></span><span class="line"><span class="cl">apt-get install npm
</span></span></code></pre></div><h4 id="44-docker">4.4 docker</h4>
<p>参考链接：<a href="https://www.runoob.com/docker/ubuntu-docker-install.html" target="_blank" rel="noopener">https://www.runoob.com/docker/ubuntu-docker-install.html</a></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">// 安装代码如下
</span></span><span class="line"><span class="cl">// 先更新本地的软件源，使用中科大的
</span></span><span class="line"><span class="cl">cp /etc/apt/sources.list /etc/apt/sources.list.bak
</span></span><span class="line"><span class="cl">sed -i <span class="s1">&#39;s/archive.ubuntu.com/mirrors.ustc.edu.cn/g&#39;</span> /etc/apt/sources.list
</span></span><span class="line"><span class="cl">apt update
</span></span><span class="line"><span class="cl">// 更新完成后先安装需要的包，共5个
</span></span><span class="line"><span class="cl">apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common
</span></span><span class="line"><span class="cl">// 由于安装docker需要类似先注册一下，所以先添加 Docker 的官方 GPG 密钥：
</span></span><span class="line"><span class="cl">curl -fsSL https://download.docker.com/linux/ubuntu/gpg <span class="p">|</span> sudo apt-key add -
</span></span><span class="line"><span class="cl">// 添加 Docker-ce 软件源
</span></span><span class="line"><span class="cl">add-apt-repository <span class="s2">&#34;deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \
</span></span></span><span class="line"><span class="cl"><span class="s2"></span><span class="k">$(</span>lsb_release -cs<span class="k">)</span><span class="s2"> stable&#34;</span>
</span></span><span class="line"><span class="cl">// 再次更新并安装
</span></span><span class="line"><span class="cl">apt-get update
</span></span><span class="line"><span class="cl">apt-get install docker-ce
</span></span><span class="line"><span class="cl">//设置开机自启动
</span></span><span class="line"><span class="cl">systemctl <span class="nb">enable</span> docker
</span></span><span class="line"><span class="cl">systemctl start docker
</span></span><span class="line"><span class="cl">//没报错即安装完成
</span></span><span class="line"><span class="cl">docker --version
</span></span></code></pre></div><blockquote>
<p>sudo mkdir -p /etc/docker
gedit /etc/docker/daemon.json</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;registry-mirrors&#34;</span>: <span class="o">[</span>
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;https://registry.docker-cn.com&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;http://hub-mirror.c.163.com&#34;</span>,
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;https://docker.mirrors.ustc.edu.cn&#34;</span><span class="o">]</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span></code></pre></div><blockquote>
<p>sudo systemctl daemon-reload
sudo systemctl restart docker</p>
</blockquote>
<h2 id="二项目初始化20220601项目已加速可行">二、项目初始化（20220601——项目已加速，可行）</h2>
<h3 id="1-创建工作目录">1. 创建工作目录</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo mkdir -p /workspace/go/bin /workspace/github.com/
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /workspace/github.com/
</span></span><span class="line"><span class="cl">git clone https://hub.0z.gs/hyperledger/fabric.git
</span></span><span class="line"><span class="cl">git clone https://hub.0z.gs/jessie-anderson/audit-chain.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> fabric/
</span></span><span class="line"><span class="cl">git checkout release-2.2
</span></span><span class="line"><span class="cl">git clone https://hub.0z.gs/hyperledger/fabric-samples.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> fabric-samples/
</span></span><span class="line"><span class="cl">git checkout release-2.2
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> /workspace/github.com/
</span></span><span class="line"><span class="cl">sudo chmod <span class="m">777</span> -R *
</span></span></code></pre></div><p>项目获取过程：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com# git clone https://hub.0z.gs/hyperledger/fabric.git
</span></span><span class="line"><span class="cl">正克隆到 <span class="s1">&#39;fabric&#39;</span>...
</span></span><span class="line"><span class="cl">remote: Enumerating objects: 154625, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">remote: Counting objects: 100% <span class="o">(</span>110/110<span class="o">)</span>, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">remote: Compressing objects: 100% <span class="o">(</span>75/75<span class="o">)</span>, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">remote: Total <span class="m">154625</span> <span class="o">(</span>delta 48<span class="o">)</span>, reused <span class="m">65</span> <span class="o">(</span>delta 35<span class="o">)</span>, pack-reused <span class="m">154515</span>
</span></span><span class="line"><span class="cl">接收对象中: 100% <span class="o">(</span>154625/154625<span class="o">)</span>, 125.51 MiB <span class="p">|</span> 4.83 MiB/s, 完成.
</span></span><span class="line"><span class="cl">处理 delta 中: 100% <span class="o">(</span>106856/106856<span class="o">)</span>, 完成.
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com# <span class="nb">cd</span> fabric/
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric# git branch -a
</span></span><span class="line"><span class="cl">* main
</span></span><span class="line"><span class="cl">  remotes/origin/HEAD -&gt; origin/main
</span></span><span class="line"><span class="cl">  remotes/origin/feature/ca
</span></span><span class="line"><span class="cl">  remotes/origin/feature/convergence
</span></span><span class="line"><span class="cl">  remotes/origin/main
</span></span><span class="line"><span class="cl">  remotes/origin/mergify/bp/release-1.4/pr-2863
</span></span><span class="line"><span class="cl">  remotes/origin/mergify/bp/release-2.2/pr-2863
</span></span><span class="line"><span class="cl">  remotes/origin/mergify/bp/release-2.3/pr-2863
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.0
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.1
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.2
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.3
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.4
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.0
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.1
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.2
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.3
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.4
</span></span><span class="line"><span class="cl">  remotes/origin/ryjones-patch-1
</span></span><span class="line"><span class="cl">  remotes/origin/test
</span></span><span class="line"><span class="cl">  remotes/origin/v0.6
</span></span><span class="line"><span class="cl">  remotes/origin/v1.0.0-preview
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric# git checkout release-2.2
</span></span><span class="line"><span class="cl">分支 <span class="s1">&#39;release-2.2&#39;</span> 设置为跟踪来自 <span class="s1">&#39;origin&#39;</span> 的远程分支 <span class="s1">&#39;release-2.2&#39;</span>。
</span></span><span class="line"><span class="cl">切换到一个新分支 <span class="s1">&#39;release-2.2&#39;</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric# git branch -a
</span></span><span class="line"><span class="cl">  main
</span></span><span class="line"><span class="cl">* release-2.2
</span></span><span class="line"><span class="cl">  remotes/origin/HEAD -&gt; origin/main
</span></span><span class="line"><span class="cl">  remotes/origin/feature/ca
</span></span><span class="line"><span class="cl">  remotes/origin/feature/convergence
</span></span><span class="line"><span class="cl">  remotes/origin/main
</span></span><span class="line"><span class="cl">  remotes/origin/mergify/bp/release-1.4/pr-2863
</span></span><span class="line"><span class="cl">  remotes/origin/mergify/bp/release-2.2/pr-2863
</span></span><span class="line"><span class="cl">  remotes/origin/mergify/bp/release-2.3/pr-2863
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.0
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.1
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.2
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.3
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.4
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.0
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.1
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.2
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.3
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.4
</span></span><span class="line"><span class="cl">  remotes/origin/ryjones-patch-1
</span></span><span class="line"><span class="cl">  remotes/origin/test
</span></span><span class="line"><span class="cl">  remotes/origin/v0.6
</span></span><span class="line"><span class="cl">  remotes/origin/v1.0.0-preview
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric# git clone https://hub.0z.gs/hyperledger/fabric-samples.git
</span></span><span class="line"><span class="cl">正克隆到 <span class="s1">&#39;fabric-samples&#39;</span>...
</span></span><span class="line"><span class="cl">remote: Enumerating objects: 10412, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">remote: Counting objects: 100% <span class="o">(</span>154/154<span class="o">)</span>, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">remote: Compressing objects: 100% <span class="o">(</span>124/124<span class="o">)</span>, <span class="k">done</span>.
</span></span><span class="line"><span class="cl">remote: Total <span class="m">10412</span> <span class="o">(</span>delta 32<span class="o">)</span>, reused <span class="m">111</span> <span class="o">(</span>delta 22<span class="o">)</span>, pack-reused <span class="m">10258</span>
</span></span><span class="line"><span class="cl">接收对象中: 100% <span class="o">(</span>10412/10412<span class="o">)</span>, 19.02 MiB <span class="p">|</span> 3.54 MiB/s, 完成.
</span></span><span class="line"><span class="cl">处理 delta 中: 100% <span class="o">(</span>5556/5556<span class="o">)</span>, 完成.
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric# <span class="nb">cd</span> fabric-samples/
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# git branch -a
</span></span><span class="line"><span class="cl">* main
</span></span><span class="line"><span class="cl">  remotes/origin/CLI_container
</span></span><span class="line"><span class="cl">  remotes/origin/HEAD -&gt; origin/main
</span></span><span class="line"><span class="cl">  remotes/origin/dependabot/npm_and_yarn/asset-transfer-basic/rest-api-typescript/nconf-0.11.4
</span></span><span class="line"><span class="cl">  remotes/origin/main
</span></span><span class="line"><span class="cl">  remotes/origin/master
</span></span><span class="line"><span class="cl">  remotes/origin/mergify/bp/release-2.2/pr-402
</span></span><span class="line"><span class="cl">  remotes/origin/release
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.0
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.1
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.2
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.3
</span></span><span class="line"><span class="cl">  remotes/origin/release-1.4
</span></span><span class="line"><span class="cl">  remotes/origin/release-2.2
</span></span><span class="line"><span class="cl">  remotes/origin/update_version_deps
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# git checkout release-2.2
</span></span><span class="line"><span class="cl">分支 <span class="s1">&#39;release-2.2&#39;</span> 设置为跟踪来自 <span class="s1">&#39;origin&#39;</span> 的远程分支 <span class="s1">&#39;release-2.2&#39;</span>。
</span></span><span class="line"><span class="cl">切换到一个新分支 <span class="s1">&#39;release-2.2&#39;</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# <span class="nb">cd</span> /workspace/github.com/
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com# sudo chmod <span class="m">777</span> -R *
</span></span></code></pre></div><h3 id="2-初始环境及文件获取20220601链接可用">2. 初始环境及文件获取（20220601——链接可用）</h3>
<h4 id="21-对应225版本">2.1 对应2.2.5版本</h4>
<h5 id="-fabric-225版本">&raquo; fabric-2.2.5版本：</h5>
<p>fabric-2.2.5 二进制文件：</p>
<blockquote>
<p>wget <a href="https://gh.ddlc.top/https://github.com/hyperledger/fabric/releases/download/v2.2.5/hyperledger-fabric-linux-amd64-2.2.5.tar.gz" target="_blank" rel="noopener">https://gh.ddlc.top/https://github.com/hyperledger/fabric/releases/download/v2.2.5/hyperledger-fabric-linux-amd64-2.2.5.tar.gz</a></p>
</blockquote>
<p>fabric-ca 1.5.2 二进制文件</p>
<blockquote>
<p>wget <a href="https://gh.ddlc.top/https://github.com/hyperledger/fabric-ca/releases/download/v1.5.2/hyperledger-fabric-ca-linux-amd64-1.5.2.tar.gz" target="_blank" rel="noopener">https://gh.ddlc.top/https://github.com/hyperledger/fabric-ca/releases/download/v1.5.2/hyperledger-fabric-ca-linux-amd64-1.5.2.tar.gz</a></p>
</blockquote>
<h5 id="-docker-225版本">&raquo; docker-2.2.5版本：</h5>
<p>docker镜像文件：2.2.5</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker pull hyperledger/fabric-peer:2.2.5
</span></span><span class="line"><span class="cl">docker pull hyperledger/fabric-orderer:2.2.5
</span></span><span class="line"><span class="cl">docker pull hyperledger/fabric-ccenv:2.2.5
</span></span><span class="line"><span class="cl">docker pull hyperledger/fabric-javaenv:2.2
</span></span><span class="line"><span class="cl">docker pull hyperledger/fabric-tools:2.2.5
</span></span><span class="line"><span class="cl">docker pull hyperledger/fabric-ca:1.5.2
</span></span><span class="line"><span class="cl">docker pull hyperledger/fabric-nodeenv:2.2
</span></span><span class="line"><span class="cl">docker pull hyperledger/fabric-baseos:2.2.5
</span></span></code></pre></div><h6 id="核心替换225-版本的peerorderer和tools的tag为latest"><strong>核心</strong>：替换2.2.5 版本的peer、orderer和tools的TAG为latest：</h6>
<blockquote>
<p>docker tag 754df4def0cf hyperledger/fabric-tools:latest
docker tag c25c16d51e1e hyperledger/fabric-orderer:latest
docker tag 94f45b88b26a hyperledger/fabric-peer:latest</p>
</blockquote>
<p>结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# docker images
</span></span><span class="line"><span class="cl">REPOSITORY                   TAG       IMAGE ID       CREATED         SIZE
</span></span><span class="line"><span class="cl">busybox                      latest    3fb5cabb6469   <span class="m">5</span> days ago      1.24MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools     2.2.5     754df4def0cf   <span class="m">4</span> months ago    442MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools     latest    754df4def0cf   <span class="m">4</span> months ago    442MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer      2.2.5     94f45b88b26a   <span class="m">4</span> months ago    51MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer      latest    94f45b88b26a   <span class="m">4</span> months ago    51MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer   2.2.5     c25c16d51e1e   <span class="m">4</span> months ago    34.7MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer   latest    c25c16d51e1e   <span class="m">4</span> months ago    34.7MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ccenv     2.2.5     7cce5e687fe7   <span class="m">4</span> months ago    516MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-baseos    2.2.5     ab5f045ec622   <span class="m">4</span> months ago    6.94MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ca        1.5.2     4ea287b75c63   <span class="m">8</span> months ago    69.8MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-nodeenv   2.2       1c0903d73400   <span class="m">9</span> months ago    295MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-javaenv   2.2       c47df6b15c80   <span class="m">10</span> months ago   415MB
</span></span></code></pre></div><h4 id="22-对应110版本">2.2 对应1.1.0版本</h4>
<h5 id="-fabric-110版本">&raquo; fabric-1.1.0版本：</h5>
<p>fabric-1.1.0 二进制文件：</p>
<blockquote>
<p>wget <a href="https://gh.ddlc.top/https://github.com/hyperledger/fabric/releases/download/v1.1.0/hyperledger-fabric-linux-amd64-1.1.0.tar.gz" target="_blank" rel="noopener">https://gh.ddlc.top/https://github.com/hyperledger/fabric/releases/download/v1.1.0/hyperledger-fabric-linux-amd64-1.1.0.tar.gz</a></p>
</blockquote>
<p>fabric-ca 1.1.0 二进制文件：</p>
<blockquote>
<p>wget <a href="https://gh.ddlc.top/https://github.com/hyperledger/fabric-ca/releases/download/v1.1.0/hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz" target="_blank" rel="noopener">https://gh.ddlc.top/https://github.com/hyperledger/fabric-ca/releases/download/v1.1.0/hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz</a></p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# wget https://gh.ddlc.top/https://github.com/hyperledger/fabric/releases/download/v1.1.0/hyperledger-fabric-linux-amd64-1.1.0.tar.gz
</span></span><span class="line"><span class="cl">--2022-05-31 19:16:12--  https://gh.ddlc.top/https://github.com/hyperledger/fabric/releases/download/v1.1.0/hyperledger-fabric-linux-amd64-1.1.0.tar.gz
</span></span><span class="line"><span class="cl">正在解析主机 gh.ddlc.top <span class="o">(</span>gh.ddlc.top<span class="o">)</span>... 104.19.89.51
</span></span><span class="line"><span class="cl">正在连接 gh.ddlc.top <span class="o">(</span>gh.ddlc.top<span class="o">)</span><span class="p">|</span>104.19.89.51<span class="p">|</span>:443... 已连接。
</span></span><span class="line"><span class="cl">已发出 HTTP 请求，正在等待回应... <span class="m">200</span> OK
</span></span><span class="line"><span class="cl">长度： <span class="m">37143247</span> <span class="o">(</span>35M<span class="o">)</span> <span class="o">[</span>application/octet-stream<span class="o">]</span>
</span></span><span class="line"><span class="cl">正在保存至: “hyperledger-fabric-linux-amd64-1.1.0.tar.gz”
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hyperledger-fabric-linux-amd64-1. 100%<span class="o">[=============================================================</span>&gt;<span class="o">]</span>  35.42M  10.5MB/s    用时 4.6s  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2022-05-31 19:16:18 <span class="o">(</span>7.67 MB/s<span class="o">)</span> - 已保存 “hyperledger-fabric-linux-amd64-1.1.0.tar.gz” <span class="o">[</span>37143247/37143247<span class="o">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# wget https://gh.ddlc.top/https://github.com/hyperledger/fabric-ca/releases/download/v1.1.0/hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz
</span></span><span class="line"><span class="cl">--2022-05-31 19:16:26--  https://gh.ddlc.top/https://github.com/hyperledger/fabric-ca/releases/download/v1.1.0/hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz
</span></span><span class="line"><span class="cl">正在解析主机 gh.ddlc.top <span class="o">(</span>gh.ddlc.top<span class="o">)</span>... 104.19.89.51
</span></span><span class="line"><span class="cl">正在连接 gh.ddlc.top <span class="o">(</span>gh.ddlc.top<span class="o">)</span><span class="p">|</span>104.19.89.51<span class="p">|</span>:443... 已连接。
</span></span><span class="line"><span class="cl">已发出 HTTP 请求，正在等待回应... <span class="m">200</span> OK
</span></span><span class="line"><span class="cl">长度： <span class="m">6255648</span> <span class="o">(</span>6.0M<span class="o">)</span> <span class="o">[</span>application/octet-stream<span class="o">]</span>
</span></span><span class="line"><span class="cl">正在保存至: “hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz”
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hyperledger-fabric-ca-linux-amd64 100%<span class="o">[=============================================================</span>&gt;<span class="o">]</span>   5.97M  3.46MB/s    用时 1.7s  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2022-05-31 19:16:29 <span class="o">(</span>3.46 MB/s<span class="o">)</span> - 已保存 “hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz” <span class="o">[</span>6255648/6255648<span class="o">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# tar -xzvf h
</span></span><span class="line"><span class="cl">high-throughput/                                hyperledger-fabric-linux-amd64-1.1.0.tar.gz
</span></span><span class="line"><span class="cl">hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz  
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# tar -xzvf hyperledger-fabric-linux-amd64-1.1.0.tar.gz 
</span></span><span class="line"><span class="cl">bin/
</span></span><span class="line"><span class="cl">bin/get-docker-images.sh
</span></span><span class="line"><span class="cl">bin/orderer
</span></span><span class="line"><span class="cl">bin/peer
</span></span><span class="line"><span class="cl">bin/configtxlator
</span></span><span class="line"><span class="cl">bin/cryptogen
</span></span><span class="line"><span class="cl">bin/configtxgen
</span></span><span class="line"><span class="cl">config/
</span></span><span class="line"><span class="cl">config/orderer.yaml
</span></span><span class="line"><span class="cl">config/core.yaml
</span></span><span class="line"><span class="cl">config/configtx.yaml
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# tar -xzvf hyperledger-fabric-ca-linux-amd64-1.1.0.tar.gz 
</span></span><span class="line"><span class="cl">bin/
</span></span><span class="line"><span class="cl">bin/fabric-ca-client
</span></span></code></pre></div><h5 id="-docker-110版本">&raquo; docker-1.1.0版本：</h5>
<p>docker镜像文件：peer orderer ccenv javaenv tools 为 1.1.0，couchdb, kafka and zookeeper 为 0.4.6
只需确定fabric-peer、fabric-ca、fabric-orderer和fabric-tools 都是<strong>x86_64-1.1.0</strong> 就行</p>
<blockquote>
<p>docker pull hyperledger/fabric-peer:x86_64-1.1.0
docker pull hyperledger/fabric-ca:x86_64-1.1.0
docker pull hyperledger/fabric-orderer:x86_64-1.1.0
docker pull hyperledger/fabric-tools:x86_64-1.1.0
docker pull hyperledger/fabric-ccenv:x86_64-1.1.0
docker pull hyperledger/fabric-javaenv:x86_64-1.1.0
docker pull hyperledger/fabric-kafka:x86_64-0.4.6
docker pull hyperledger/fabric-couchdb:x86_64-0.4.6
docker pull hyperledger/fabric-zookeeper:x86_64-0.4.6
docker pull hyperledger/fabric-baseos:x86_64-0.4.6</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker images
</span></span><span class="line"><span class="cl">REPOSITORY                     TAG            IMAGE ID       CREATED         SIZE
</span></span><span class="line"><span class="cl">busybox                        latest         3fb5cabb6469   <span class="m">5</span> days ago      1.24MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools       2.2.5          754df4def0cf   <span class="m">4</span> months ago    442MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer        2.2.5          94f45b88b26a   <span class="m">4</span> months ago    51MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer     2.2.5          c25c16d51e1e   <span class="m">4</span> months ago    34.7MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ccenv       2.2.5          7cce5e687fe7   <span class="m">4</span> months ago    516MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-baseos      2.2.5          ab5f045ec622   <span class="m">4</span> months ago    6.94MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ca          1.5.2          4ea287b75c63   <span class="m">8</span> months ago    69.8MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-nodeenv     2.2            1c0903d73400   <span class="m">9</span> months ago    295MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-javaenv     2.2            c47df6b15c80   <span class="m">10</span> months ago   415MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ca          x86_64-1.1.0   72617b4fa9b4   <span class="m">4</span> years ago     299MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools       x86_64-1.1.0   b7bfddf508bc   <span class="m">4</span> years ago     1.46GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer     x86_64-1.1.0   ce0c810df36a   <span class="m">4</span> years ago     180MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer        x86_64-1.1.0   b023f9be0771   <span class="m">4</span> years ago     187MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-javaenv     x86_64-1.1.0   82098abb1a17   <span class="m">4</span> years ago     1.52GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ccenv       x86_64-1.1.0   c8b4909d8d46   <span class="m">4</span> years ago     1.39GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-zookeeper   x86_64-0.4.6   92cbb952b6f8   <span class="m">4</span> years ago     1.39GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-kafka       x86_64-0.4.6   554c591b86a8   <span class="m">4</span> years ago     1.4GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-couchdb     x86_64-0.4.6   7e73c828fc5b   <span class="m">4</span> years ago     1.56GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-baseos      x86_64-0.4.6   220e5cf3fb7f   <span class="m">4</span> years ago     151MB
</span></span></code></pre></div><h6 id="核心替换110-版本的peerorderer和tools的tag为latestfabric-javaenvfabric-ccenv-fabric-couchdb最好也替换"><strong>核心</strong>：替换1.1.0 版本的peer、orderer和tools的TAG为latest：(fabric-javaenv、fabric-ccenv 、fabric-couchdb最好也替换)</h6>
<blockquote>
<p>docker tag b7bfddf508bc hyperledger/fabric-tools:latest
docker tag ce0c810df36a hyperledger/fabric-orderer:latest
docker tag b023f9be0771 hyperledger/fabric-peer:latest</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# git branch
</span></span><span class="line"><span class="cl">  main
</span></span><span class="line"><span class="cl">* release-1.1
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker tag b7bfddf508bc hyperledger/fabric-tools:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker tag ce0c810df36a hyperledger/fabric-orderer:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker tag b023f9be0771 hyperledger/fabric-peer:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker images
</span></span><span class="line"><span class="cl">REPOSITORY                     TAG            IMAGE ID       CREATED         SIZE
</span></span><span class="line"><span class="cl">busybox                        latest         3fb5cabb6469   <span class="m">5</span> days ago      1.24MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools       2.2.5          754df4def0cf   <span class="m">4</span> months ago    442MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer        2.2.5          94f45b88b26a   <span class="m">4</span> months ago    51MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer     2.2.5          c25c16d51e1e   <span class="m">4</span> months ago    34.7MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ccenv       2.2.5          7cce5e687fe7   <span class="m">4</span> months ago    516MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-baseos      2.2.5          ab5f045ec622   <span class="m">4</span> months ago    6.94MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ca          1.5.2          4ea287b75c63   <span class="m">8</span> months ago    69.8MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-nodeenv     2.2            1c0903d73400   <span class="m">9</span> months ago    295MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-javaenv     2.2            c47df6b15c80   <span class="m">10</span> months ago   415MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ca          x86_64-1.1.0   72617b4fa9b4   <span class="m">4</span> years ago     299MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools       latest         b7bfddf508bc   <span class="m">4</span> years ago     1.46GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools       x86_64-1.1.0   b7bfddf508bc   <span class="m">4</span> years ago     1.46GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer     latest         ce0c810df36a   <span class="m">4</span> years ago     180MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer     x86_64-1.1.0   ce0c810df36a   <span class="m">4</span> years ago     180MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer        latest         b023f9be0771   <span class="m">4</span> years ago     187MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer        x86_64-1.1.0   b023f9be0771   <span class="m">4</span> years ago     187MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-javaenv     x86_64-1.1.0   82098abb1a17   <span class="m">4</span> years ago     1.52GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ccenv       x86_64-1.1.0   c8b4909d8d46   <span class="m">4</span> years ago     1.39GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-zookeeper   x86_64-0.4.6   92cbb952b6f8   <span class="m">4</span> years ago     1.39GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-kafka       x86_64-0.4.6   554c591b86a8   <span class="m">4</span> years ago     1.4GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-couchdb     x86_64-0.4.6   7e73c828fc5b   <span class="m">4</span> years ago     1.56GB
</span></span><span class="line"><span class="cl">hyperledger/fabric-baseos      x86_64-0.4.6   220e5cf3fb7f   <span class="m">4</span> years ago     151MB
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# docker tag 82098abb1a17 hyperledger/fabric-javaenv:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples# docker tag c8b4909d8d46 hyperledger/fabric-ccenv:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker tag 7e73c828fc5b hyperledger/fabric-couchdb:latest
</span></span></code></pre></div><h3 id="3-启动网络">3. 启动网络</h3>
<p>参考教程：<a href="https://hyperledger-fabric.readthedocs.io/en/release-2.2/test_network.html#starting-a-chaincode-on-the-channel" target="_blank" rel="noopener">Docs » Getting Started » Using the Fabric test network</a></p>
<h4 id="31-启动225版本网络">3.1 启动2.2.5版本网络</h4>
<blockquote>
<p>./network.sh up -i 2.2.5</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# ./network.sh up -i 2.2.5
</span></span><span class="line"><span class="cl">Starting nodes with CLI timeout of <span class="s1">&#39;5&#39;</span> tries and CLI delay of <span class="s1">&#39;3&#39;</span> seconds and using database <span class="s1">&#39;leveldb&#39;</span> with crypto from <span class="s1">&#39;cryptogen&#39;</span>
</span></span><span class="line"><span class="cl"><span class="nv">LOCAL_VERSION</span><span class="o">=</span>2.2.5
</span></span><span class="line"><span class="cl"><span class="nv">DOCKER_IMAGE_VERSION</span><span class="o">=</span>2.2.5
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/test-network/../bin/cryptogen
</span></span><span class="line"><span class="cl">Generating certificates using cryptogen tool
</span></span><span class="line"><span class="cl">Creating Org1 Identities
</span></span><span class="line"><span class="cl">+ cryptogen generate --config<span class="o">=</span>./organizations/cryptogen/crypto-config-org1.yaml --output<span class="o">=</span>organizations
</span></span><span class="line"><span class="cl">org1.example.com
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Creating Org2 Identities
</span></span><span class="line"><span class="cl">+ cryptogen generate --config<span class="o">=</span>./organizations/cryptogen/crypto-config-org2.yaml --output<span class="o">=</span>organizations
</span></span><span class="line"><span class="cl">org2.example.com
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Creating Orderer Org Identities
</span></span><span class="line"><span class="cl">+ cryptogen generate --config<span class="o">=</span>./organizations/cryptogen/crypto-config-orderer.yaml --output<span class="o">=</span>organizations
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Generating CCP files <span class="k">for</span> Org1 and Org2
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/test-network/../bin/configtxgen
</span></span><span class="line"><span class="cl">Generating Orderer Genesis block
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsOrdererGenesis -channelID system-channel -outputBlock ./system-genesis-block/genesis.block
</span></span><span class="line"><span class="cl">2022-05-31 17:30:05.804 CST <span class="o">[</span>common.tools.configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-05-31 17:30:05.818 CST <span class="o">[</span>common.tools.configtxgen.localconfig<span class="o">]</span> completeInitialization -&gt; INFO <span class="m">002</span> orderer type: etcdraft
</span></span><span class="line"><span class="cl">2022-05-31 17:30:05.818 CST <span class="o">[</span>common.tools.configtxgen.localconfig<span class="o">]</span> completeInitialization -&gt; INFO <span class="m">003</span> Orderer.EtcdRaft.Options unset, setting to tick_interval:<span class="s2">&#34;500ms&#34;</span> election_tick:10 heartbeat_tick:1 max_inflight_blocks:5 snapshot_interval_size:16777216 
</span></span><span class="line"><span class="cl">2022-05-31 17:30:05.818 CST <span class="o">[</span>common.tools.configtxgen.localconfig<span class="o">]</span> Load -&gt; INFO <span class="m">004</span> Loaded configuration: /workspace/github.com/fabric/fabric-samples/test-network/configtx/configtx.yaml
</span></span><span class="line"><span class="cl">2022-05-31 17:30:05.819 CST <span class="o">[</span>common.tools.configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">005</span> Generating genesis block
</span></span><span class="line"><span class="cl">2022-05-31 17:30:05.820 CST <span class="o">[</span>common.tools.configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">006</span> Writing genesis block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Creating network <span class="s2">&#34;fabric_test&#34;</span> with the default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;docker_orderer.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;docker_peer0.org1.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;docker_peer0.org2.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">CONTAINER ID   IMAGE                               COMMAND             CREATED        STATUS                  PORTS                                                                                            NAMES
</span></span><span class="line"><span class="cl">14259fba602f   hyperledger/fabric-tools:latest     <span class="s2">&#34;/bin/bash&#34;</span>         <span class="m">1</span> second ago   Up Less than a second                                                                                                    cli
</span></span><span class="line"><span class="cl">630ecc2b994d   hyperledger/fabric-peer:latest      <span class="s2">&#34;peer node start&#34;</span>   <span class="m">1</span> second ago   Up Less than a second   0.0.0.0:7051-&gt;7051/tcp, :::7051-&gt;7051/tcp, 0.0.0.0:9444-&gt;9444/tcp, :::9444-&gt;9444/tcp             peer0.org1.example.com
</span></span><span class="line"><span class="cl">69ba8c0eda5c   hyperledger/fabric-orderer:latest   <span class="s2">&#34;orderer&#34;</span>           <span class="m">1</span> second ago   Up Less than a second   0.0.0.0:7050-&gt;7050/tcp, :::7050-&gt;7050/tcp, 0.0.0.0:9443-&gt;9443/tcp, :::9443-&gt;9443/tcp             orderer.example.com
</span></span><span class="line"><span class="cl">5451217c07a3   hyperledger/fabric-peer:latest      <span class="s2">&#34;peer node start&#34;</span>   <span class="m">1</span> second ago   Up Less than a second   0.0.0.0:9051-&gt;9051/tcp, :::9051-&gt;9051/tcp, 7051/tcp, 0.0.0.0:9445-&gt;9445/tcp, :::9445-&gt;9445/tcp   peer0.org2.example.com
</span></span></code></pre></div><h4 id="32-创建通道testchannel">3.2 创建通道testchannel</h4>
<blockquote>
<p>./network.sh createChannel -c testchannel -ca</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# ./network.sh createChannel -c testchannel -ca
</span></span><span class="line"><span class="cl">Creating channel <span class="s1">&#39;testchannel&#39;</span>.
</span></span><span class="line"><span class="cl">If network is not up, starting nodes with CLI timeout of <span class="s1">&#39;5&#39;</span> tries and CLI delay of <span class="s1">&#39;3&#39;</span> seconds and using database <span class="s1">&#39;leveldb 
</span></span></span><span class="line"><span class="cl"><span class="s1">Generating channel create transaction &#39;</span>testchannel.tx<span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/testchannel.tx -channelID testchannel
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:40.964 CST [common.tools.configtxgen] main -&gt; INFO 001 Loading configuration
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:40.978 CST [common.tools.configtxgen.localconfig] Load -&gt; INFO 002 Loaded configuration: /workspace/github.com/fabric/fabric-samples/test-network/configtx/configtx.yaml
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:40.978 CST [common.tools.configtxgen] doOutputChannelCreateTx -&gt; INFO 003 Generating new channel configtx
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:40.979 CST [common.tools.configtxgen] doOutputChannelCreateTx -&gt; INFO 004 Writing new channel tx
</span></span></span><span class="line"><span class="cl"><span class="s1">+ res=0
</span></span></span><span class="line"><span class="cl"><span class="s1">Creating channel testchannel
</span></span></span><span class="line"><span class="cl"><span class="s1">Using organization 1
</span></span></span><span class="line"><span class="cl"><span class="s1">+ peer channel create -o localhost:7050 -c testchannel --ordererTLSHostnameOverride orderer.example.com -f ./channel-artifacts/testchannel.tx --outputBlock ./channel-artifacts/testchannel.block --tls --cafile /workspace/github.com/fabric/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span></span><span class="line"><span class="cl"><span class="s1">+ res=0
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.008 CST [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.019 CST [cli.common] readBlock -&gt; INFO 002 Expect block, but got status: &amp;{NOT_FOUND}
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.020 CST [channelCmd] InitCmdFactory -&gt; INFO 003 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.223 CST [cli.common] readBlock -&gt; INFO 004 Expect block, but got status: &amp;{SERVICE_UNAVAILABLE}
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.229 CST [channelCmd] InitCmdFactory -&gt; INFO 005 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.431 CST [cli.common] readBlock -&gt; INFO 006 Expect block, but got status: &amp;{SERVICE_UNAVAILABLE}
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.435 CST [channelCmd] InitCmdFactory -&gt; INFO 007 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.638 CST [cli.common] readBlock -&gt; INFO 008 Expect block, but got status: &amp;{SERVICE_UNAVAILABLE}
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.642 CST [channelCmd] InitCmdFactory -&gt; INFO 009 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.845 CST [cli.common] readBlock -&gt; INFO 00a Expect block, but got status: &amp;{SERVICE_UNAVAILABLE}
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:44.849 CST [channelCmd] InitCmdFactory -&gt; INFO 00b Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:45.058 CST [cli.common] readBlock -&gt; INFO 00c Received block: 0
</span></span></span><span class="line"><span class="cl"><span class="s1">Channel &#39;</span>testchannel<span class="s1">&#39; created
</span></span></span><span class="line"><span class="cl"><span class="s1">Joining org1 peer to the channel...
</span></span></span><span class="line"><span class="cl"><span class="s1">Using organization 1
</span></span></span><span class="line"><span class="cl"><span class="s1">+ peer channel join -b ./channel-artifacts/testchannel.block
</span></span></span><span class="line"><span class="cl"><span class="s1">+ res=0
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:48.095 CST [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:48.123 CST [channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to join channel
</span></span></span><span class="line"><span class="cl"><span class="s1">Joining org2 peer to the channel...
</span></span></span><span class="line"><span class="cl"><span class="s1">Using organization 2
</span></span></span><span class="line"><span class="cl"><span class="s1">+ peer channel join -b ./channel-artifacts/testchannel.block
</span></span></span><span class="line"><span class="cl"><span class="s1">+ res=0
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:51.157 CST [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 17:30:51.193 CST [channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to join channel
</span></span></span><span class="line"><span class="cl"><span class="s1">Setting anchor peer for org1...
</span></span></span><span class="line"><span class="cl"><span class="s1">Using organization 1
</span></span></span><span class="line"><span class="cl"><span class="s1">Fetching channel config for channel testchannel
</span></span></span><span class="line"><span class="cl"><span class="s1">Using organization 1
</span></span></span><span class="line"><span class="cl"><span class="s1">Fetching the most recent configuration block for the channel
</span></span></span><span class="line"><span class="cl"><span class="s1">+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c testchannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.314 UTC [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.316 UTC [cli.common] readBlock -&gt; INFO 002 Received block: 0
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.316 UTC [channelCmd] fetch -&gt; INFO 003 Retrieving last config block: 0
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.317 UTC [cli.common] readBlock -&gt; INFO 004 Received block: 0
</span></span></span><span class="line"><span class="cl"><span class="s1">Decoding config block to JSON and isolating config to Org1MSPconfig.json
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_decode --input config_block.pb --type common.Block
</span></span></span><span class="line"><span class="cl"><span class="s1">+ jq &#39;</span>.data.data<span class="o">[</span>0<span class="o">]</span>.payload.data.config<span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">+ jq &#39;</span>.channel_group.groups.Application.groups.Org1MSP.values +<span class="o">=</span> <span class="o">{</span><span class="s2">&#34;AnchorPeers&#34;</span>:<span class="o">{</span><span class="s2">&#34;mod_policy&#34;</span>: <span class="s2">&#34;Admins&#34;</span>,<span class="s2">&#34;value&#34;</span>:<span class="o">{</span><span class="s2">&#34;anchor_peers&#34;</span>: <span class="o">[{</span><span class="s2">&#34;host&#34;</span>: <span class="s2">&#34;peer0.org1.example.com&#34;</span>,<span class="s2">&#34;port&#34;</span>: 7051<span class="o">}]}</span>,<span class="s2">&#34;version&#34;</span>: <span class="s2">&#34;0&#34;</span><span class="o">}}</span><span class="s1">&#39; Org1MSPconfig.json
</span></span></span><span class="line"><span class="cl"><span class="s1">Generating anchor peer update transaction for Org1 on channel testchannel
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_encode --input Org1MSPconfig.json --type common.Config
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_encode --input Org1MSPmodified_config.json --type common.Config
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator compute_update --channel_id testchannel --original original_config.pb --updated modified_config.pb
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate
</span></span></span><span class="line"><span class="cl"><span class="s1">+ jq .
</span></span></span><span class="line"><span class="cl"><span class="s1">++ cat config_update.json
</span></span></span><span class="line"><span class="cl"><span class="s1">+ echo &#39;</span><span class="o">{</span><span class="s2">&#34;payload&#34;</span>:<span class="o">{</span><span class="s2">&#34;header&#34;</span>:<span class="o">{</span><span class="s2">&#34;channel_header&#34;</span>:<span class="o">{</span><span class="s2">&#34;channel_id&#34;</span>:<span class="s2">&#34;testchannel&#34;</span>, <span class="s2">&#34;type&#34;</span>:2<span class="o">}}</span>,<span class="s2">&#34;data&#34;</span>:<span class="o">{</span><span class="s2">&#34;config_update&#34;</span>:<span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;channel_id&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;testchannel&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;isolated_data&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;read_set&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Application&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Org1MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Endorsement&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Readers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Writers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;value&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;1&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;write_set&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Application&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Org1MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Endorsement&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Readers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Writers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;AnchorPeers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;value&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;anchor_peers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">[</span><span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;host&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;peer0.org1.example.com&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;port&#34;</span>:<span class="s1">&#39; 7051 &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">]</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;value&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;1&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;1&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}}}}</span><span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.457 UTC [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.464 UTC [channelCmd] update -&gt; INFO 002 Successfully submitted channel update
</span></span></span><span class="line"><span class="cl"><span class="s1">Anchor peer set for org &#39;</span>Org1MSP<span class="s1">&#39; on channel &#39;</span>testchannel<span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">Setting anchor peer for org2...
</span></span></span><span class="line"><span class="cl"><span class="s1">Using organization 2
</span></span></span><span class="line"><span class="cl"><span class="s1">Fetching channel config for channel testchannel
</span></span></span><span class="line"><span class="cl"><span class="s1">Using organization 2
</span></span></span><span class="line"><span class="cl"><span class="s1">Fetching the most recent configuration block for the channel
</span></span></span><span class="line"><span class="cl"><span class="s1">+ peer channel fetch config config_block.pb -o orderer.example.com:7050 --ordererTLSHostnameOverride orderer.example.com -c testchannel --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.568 UTC [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.569 UTC [cli.common] readBlock -&gt; INFO 002 Received block: 1
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.569 UTC [channelCmd] fetch -&gt; INFO 003 Retrieving last config block: 1
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.570 UTC [cli.common] readBlock -&gt; INFO 004 Received block: 1
</span></span></span><span class="line"><span class="cl"><span class="s1">Decoding config block to JSON and isolating config to Org2MSPconfig.json
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_decode --input config_block.pb --type common.Block
</span></span></span><span class="line"><span class="cl"><span class="s1">+ jq &#39;</span>.data.data<span class="o">[</span>0<span class="o">]</span>.payload.data.config<span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">+ jq &#39;</span>.channel_group.groups.Application.groups.Org2MSP.values +<span class="o">=</span> <span class="o">{</span><span class="s2">&#34;AnchorPeers&#34;</span>:<span class="o">{</span><span class="s2">&#34;mod_policy&#34;</span>: <span class="s2">&#34;Admins&#34;</span>,<span class="s2">&#34;value&#34;</span>:<span class="o">{</span><span class="s2">&#34;anchor_peers&#34;</span>: <span class="o">[{</span><span class="s2">&#34;host&#34;</span>: <span class="s2">&#34;peer0.org2.example.com&#34;</span>,<span class="s2">&#34;port&#34;</span>: 9051<span class="o">}]}</span>,<span class="s2">&#34;version&#34;</span>: <span class="s2">&#34;0&#34;</span><span class="o">}}</span><span class="s1">&#39; Org2MSPconfig.json
</span></span></span><span class="line"><span class="cl"><span class="s1">Generating anchor peer update transaction for Org2 on channel testchannel
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_encode --input Org2MSPconfig.json --type common.Config
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_encode --input Org2MSPmodified_config.json --type common.Config
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator compute_update --channel_id testchannel --original original_config.pb --updated modified_config.pb
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_decode --input config_update.pb --type common.ConfigUpdate
</span></span></span><span class="line"><span class="cl"><span class="s1">+ jq .
</span></span></span><span class="line"><span class="cl"><span class="s1">++ cat config_update.json
</span></span></span><span class="line"><span class="cl"><span class="s1">+ echo &#39;</span><span class="o">{</span><span class="s2">&#34;payload&#34;</span>:<span class="o">{</span><span class="s2">&#34;header&#34;</span>:<span class="o">{</span><span class="s2">&#34;channel_header&#34;</span>:<span class="o">{</span><span class="s2">&#34;channel_id&#34;</span>:<span class="s2">&#34;testchannel&#34;</span>, <span class="s2">&#34;type&#34;</span>:2<span class="o">}}</span>,<span class="s2">&#34;data&#34;</span>:<span class="o">{</span><span class="s2">&#34;config_update&#34;</span>:<span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;channel_id&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;testchannel&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;isolated_data&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;read_set&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Application&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Org2MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Endorsement&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Readers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Writers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;value&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;1&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;write_set&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Application&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Org2MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;groups&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Endorsement&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Readers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;Writers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policy&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;AnchorPeers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;Admins&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;value&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;anchor_peers&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">[</span><span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;host&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;peer0.org2.example.com&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;port&#34;</span>:<span class="s1">&#39; 9051 &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">]</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;MSP&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{</span><span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;value&#34;</span>:<span class="s1">&#39; null, &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;1&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;1&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;mod_policy&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;&#34;</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;policies&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;values&#34;</span>:<span class="s1">&#39; &#39;</span><span class="o">{}</span>,<span class="s1">&#39; &#39;</span><span class="s2">&#34;version&#34;</span>:<span class="s1">&#39; &#39;</span><span class="s2">&#34;0&#34;</span><span class="s1">&#39; &#39;</span><span class="o">}</span><span class="s1">&#39; &#39;</span><span class="o">}}}}</span><span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">+ configtxlator proto_encode --input config_update_in_envelope.json --type common.Envelope
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.703 UTC [channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
</span></span></span><span class="line"><span class="cl"><span class="s1">2022-05-31 09:30:51.711 UTC [channelCmd] update -&gt; INFO 002 Successfully submitted channel update
</span></span></span><span class="line"><span class="cl"><span class="s1">Anchor peer set for org &#39;</span>Org2MSP<span class="s1">&#39; on channel &#39;</span>testchannel<span class="s1">&#39;
</span></span></span><span class="line"><span class="cl"><span class="s1">Channel &#39;</span>testchannel<span class="err">&#39;</span> joined
</span></span></code></pre></div><h4 id="33-调用asset-transfer-basicchaincode-javascript内的合约basic">3.3 调用./asset-transfer-basic/chaincode-javascript/内的合约basic</h4>
<blockquote>
<p>./network.sh deployCC -c testchannel -ccn basic -ccp ../asset-transfer-basic/chaincode-javascript/ -ccl javascript</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# ./network.sh deployCC -c testchannel -ccn basic -ccp ../asset-transfer-basic/chaincode-javascript/ -ccl javascript
</span></span><span class="line"><span class="cl">deploying chaincode on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">executing with the following
</span></span><span class="line"><span class="cl">- CHANNEL_NAME: testchannel
</span></span><span class="line"><span class="cl">- CC_NAME: basic
</span></span><span class="line"><span class="cl">- CC_SRC_PATH: ../asset-transfer-basic/chaincode-javascript/
</span></span><span class="line"><span class="cl">- CC_SRC_LANGUAGE: javascript
</span></span><span class="line"><span class="cl">- CC_VERSION: 1.0
</span></span><span class="line"><span class="cl">- CC_SEQUENCE: <span class="m">1</span>
</span></span><span class="line"><span class="cl">- CC_END_POLICY: NA
</span></span><span class="line"><span class="cl">- CC_COLL_CONFIG: NA
</span></span><span class="line"><span class="cl">- CC_INIT_FCN: NA
</span></span><span class="line"><span class="cl">- DELAY: <span class="m">3</span>
</span></span><span class="line"><span class="cl">- MAX_RETRY: <span class="m">5</span>
</span></span><span class="line"><span class="cl">- VERBOSE: <span class="nb">false</span>
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode package basic.tar.gz --path ../asset-transfer-basic/chaincode-javascript/ --lang node --label basic_1.0
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Chaincode is packaged
</span></span><span class="line"><span class="cl">Installing chaincode on peer0.org1...
</span></span><span class="line"><span class="cl">Using organization <span class="m">1</span>
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode install basic.tar.gz
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">2022-05-31 17:32:32.408 CST <span class="o">[</span>cli.lifecycle.chaincode<span class="o">]</span> submitInstallProposal -&gt; INFO <span class="m">001</span> Installed remotely: response:&lt;status:200 payload:<span class="s2">&#34;\nJbasic_1.0:5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0\022\tbasic_1.0&#34;</span> &gt; 
</span></span><span class="line"><span class="cl">2022-05-31 17:32:32.408 CST <span class="o">[</span>cli.lifecycle.chaincode<span class="o">]</span> submitInstallProposal -&gt; INFO <span class="m">002</span> Chaincode code package identifier: basic_1.0:5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0
</span></span><span class="line"><span class="cl">Chaincode is installed on peer0.org1
</span></span><span class="line"><span class="cl">Install chaincode on peer0.org2...
</span></span><span class="line"><span class="cl">Using organization <span class="m">2</span>
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode install basic.tar.gz
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">2022-05-31 17:32:57.311 CST <span class="o">[</span>cli.lifecycle.chaincode<span class="o">]</span> submitInstallProposal -&gt; INFO <span class="m">001</span> Installed remotely: response:&lt;status:200 payload:<span class="s2">&#34;\nJbasic_1.0:5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0\022\tbasic_1.0&#34;</span> &gt; 
</span></span><span class="line"><span class="cl">2022-05-31 17:32:57.311 CST <span class="o">[</span>cli.lifecycle.chaincode<span class="o">]</span> submitInstallProposal -&gt; INFO <span class="m">002</span> Chaincode code package identifier: basic_1.0:5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0
</span></span><span class="line"><span class="cl">Chaincode is installed on peer0.org2
</span></span><span class="line"><span class="cl">Using organization <span class="m">1</span>
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode queryinstalled
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Installed chaincodes on peer:
</span></span><span class="line"><span class="cl">Package ID: basic_1.0:5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0, Label: basic_1.0
</span></span><span class="line"><span class="cl">Query installed successful on peer0.org1 on channel
</span></span><span class="line"><span class="cl">Using organization <span class="m">1</span>
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /workspace/github.com/fabric/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem --channelID testchannel --name basic --version 1.0 --package-id basic_1.0:5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0 --sequence <span class="m">1</span>
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">2022-05-31 17:32:59.391 CST <span class="o">[</span>chaincodeCmd<span class="o">]</span> ClientWait -&gt; INFO <span class="m">001</span> txid <span class="o">[</span>e2086e7fb2c09fc01bf7235028a6f85b84b1464ec21e92e6565dee9c2362f367<span class="o">]</span> committed with status <span class="o">(</span>VALID<span class="o">)</span> at localhost:7051
</span></span><span class="line"><span class="cl">Chaincode definition approved on peer0.org1 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">1</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition on peer0.org1 on channel <span class="s1">&#39;testchannel&#39;</span>...
</span></span><span class="line"><span class="cl">Attempting to check the commit readiness of the chaincode definition on peer0.org1, Retry after <span class="m">3</span> seconds.
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode checkcommitreadiness --channelID testchannel --name basic --version 1.0 --sequence <span class="m">1</span> --output json
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="s2">&#34;approvals&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org1MSP&#34;</span>: true,
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org2MSP&#34;</span>: <span class="nb">false</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition successful on peer0.org1 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">2</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition on peer0.org2 on channel <span class="s1">&#39;testchannel&#39;</span>...
</span></span><span class="line"><span class="cl">Attempting to check the commit readiness of the chaincode definition on peer0.org2, Retry after <span class="m">3</span> seconds.
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode checkcommitreadiness --channelID testchannel --name basic --version 1.0 --sequence <span class="m">1</span> --output json
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="s2">&#34;approvals&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org1MSP&#34;</span>: true,
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org2MSP&#34;</span>: <span class="nb">false</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition successful on peer0.org2 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">2</span>
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode approveformyorg -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /workspace/github.com/fabric/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem --channelID testchannel --name basic --version 1.0 --package-id basic_1.0:5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0 --sequence <span class="m">1</span>
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">2022-05-31 17:33:07.553 CST <span class="o">[</span>chaincodeCmd<span class="o">]</span> ClientWait -&gt; INFO <span class="m">001</span> txid <span class="o">[</span>fe35b1ceaa22838a104c8949408cba3c07e8aa1cd9f9aea66a734aab8199e4df<span class="o">]</span> committed with status <span class="o">(</span>VALID<span class="o">)</span> at localhost:9051
</span></span><span class="line"><span class="cl">Chaincode definition approved on peer0.org2 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">1</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition on peer0.org1 on channel <span class="s1">&#39;testchannel&#39;</span>...
</span></span><span class="line"><span class="cl">Attempting to check the commit readiness of the chaincode definition on peer0.org1, Retry after <span class="m">3</span> seconds.
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode checkcommitreadiness --channelID testchannel --name basic --version 1.0 --sequence <span class="m">1</span> --output json
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="s2">&#34;approvals&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org1MSP&#34;</span>: true,
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org2MSP&#34;</span>: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition successful on peer0.org1 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">2</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition on peer0.org2 on channel <span class="s1">&#39;testchannel&#39;</span>...
</span></span><span class="line"><span class="cl">Attempting to check the commit readiness of the chaincode definition on peer0.org2, Retry after <span class="m">3</span> seconds.
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode checkcommitreadiness --channelID testchannel --name basic --version 1.0 --sequence <span class="m">1</span> --output json
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span>
</span></span><span class="line"><span class="cl">	<span class="s2">&#34;approvals&#34;</span>: <span class="o">{</span>
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org1MSP&#34;</span>: true,
</span></span><span class="line"><span class="cl">		<span class="s2">&#34;Org2MSP&#34;</span>: <span class="nb">true</span>
</span></span><span class="line"><span class="cl">	<span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">}</span>
</span></span><span class="line"><span class="cl">Checking the commit readiness of the chaincode definition successful on peer0.org2 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">1</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">2</span>
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode commit -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile /workspace/github.com/fabric/fabric-samples/test-network/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem --channelID testchannel --name basic --peerAddresses localhost:7051 --tlsRootCertFiles /workspace/github.com/fabric/fabric-samples/test-network/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt --peerAddresses localhost:9051 --tlsRootCertFiles /workspace/github.com/fabric/fabric-samples/test-network/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt --version 1.0 --sequence <span class="m">1</span>
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">2022-05-31 17:33:15.685 CST <span class="o">[</span>chaincodeCmd<span class="o">]</span> ClientWait -&gt; INFO <span class="m">001</span> txid <span class="o">[</span>3624662097b848173db4c2dd6ba105387ae1af65a0b4a4ffeb34ef3b0d5dc038<span class="o">]</span> committed with status <span class="o">(</span>VALID<span class="o">)</span> at localhost:7051
</span></span><span class="line"><span class="cl">2022-05-31 17:33:15.692 CST <span class="o">[</span>chaincodeCmd<span class="o">]</span> ClientWait -&gt; INFO <span class="m">002</span> txid <span class="o">[</span>3624662097b848173db4c2dd6ba105387ae1af65a0b4a4ffeb34ef3b0d5dc038<span class="o">]</span> committed with status <span class="o">(</span>VALID<span class="o">)</span> at localhost:9051
</span></span><span class="line"><span class="cl">Chaincode definition committed on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">1</span>
</span></span><span class="line"><span class="cl">Querying chaincode definition on peer0.org1 on channel <span class="s1">&#39;testchannel&#39;</span>...
</span></span><span class="line"><span class="cl">Attempting to Query committed status on peer0.org1, Retry after <span class="m">3</span> seconds.
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode querycommitted --channelID testchannel --name basic
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Committed chaincode definition <span class="k">for</span> chaincode <span class="s1">&#39;basic&#39;</span> on channel <span class="s1">&#39;testchannel&#39;</span>:
</span></span><span class="line"><span class="cl">Version: 1.0, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: <span class="o">[</span>Org1MSP: true, Org2MSP: true<span class="o">]</span>
</span></span><span class="line"><span class="cl">Query chaincode definition successful on peer0.org1 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Using organization <span class="m">2</span>
</span></span><span class="line"><span class="cl">Querying chaincode definition on peer0.org2 on channel <span class="s1">&#39;testchannel&#39;</span>...
</span></span><span class="line"><span class="cl">Attempting to Query committed status on peer0.org2, Retry after <span class="m">3</span> seconds.
</span></span><span class="line"><span class="cl">+ peer lifecycle chaincode querycommitted --channelID testchannel --name basic
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">Committed chaincode definition <span class="k">for</span> chaincode <span class="s1">&#39;basic&#39;</span> on channel <span class="s1">&#39;testchannel&#39;</span>:
</span></span><span class="line"><span class="cl">Version: 1.0, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: <span class="o">[</span>Org1MSP: true, Org2MSP: true<span class="o">]</span>
</span></span><span class="line"><span class="cl">Query chaincode definition successful on peer0.org2 on channel <span class="s1">&#39;testchannel&#39;</span>
</span></span><span class="line"><span class="cl">Chaincode initialization is not required
</span></span></code></pre></div><h4 id="34-确认二进制文件peer可用">3.4 确认二进制文件peer可用</h4>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">source</span> /etc/profile
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# peer
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  peer <span class="o">[</span>command<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Available Commands:
</span></span><span class="line"><span class="cl">  chaincode   Operate a chaincode: install<span class="p">|</span>instantiate<span class="p">|</span>invoke<span class="p">|</span>package<span class="p">|</span>query<span class="p">|</span>signpackage<span class="p">|</span>upgrade<span class="p">|</span>list.
</span></span><span class="line"><span class="cl">  channel     Operate a channel: create<span class="p">|</span>fetch<span class="p">|</span>join<span class="p">|</span>list<span class="p">|</span>update<span class="p">|</span>signconfigtx<span class="p">|</span>getinfo.
</span></span><span class="line"><span class="cl">  <span class="nb">help</span>        Help about any <span class="nb">command</span>
</span></span><span class="line"><span class="cl">  lifecycle   Perform _lifecycle operations
</span></span><span class="line"><span class="cl">  node        Operate a peer node: start<span class="p">|</span>reset<span class="p">|</span>rollback<span class="p">|</span>pause<span class="p">|</span>resume<span class="p">|</span>rebuild-dbs<span class="p">|</span>upgrade-dbs.
</span></span><span class="line"><span class="cl">  version     Print fabric peer version.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -h, --help   <span class="nb">help</span> <span class="k">for</span> peer
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Use <span class="s2">&#34;peer [command] --help&#34;</span> <span class="k">for</span> more information about a command.
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# peer version
</span></span><span class="line"><span class="cl">peer:
</span></span><span class="line"><span class="cl"> Version: 2.2.5
</span></span><span class="line"><span class="cl"> Commit SHA: f7318ffd4
</span></span><span class="line"><span class="cl"> Go version: go1.17.5
</span></span><span class="line"><span class="cl"> OS/Arch: linux/amd64
</span></span><span class="line"><span class="cl"> Chaincode:
</span></span><span class="line"><span class="cl">  Base Docker Label: org.hyperledger.fabric
</span></span><span class="line"><span class="cl">  Docker Namespace: hyperledger
</span></span></code></pre></div><h4 id="35-合约调用">3.5 合约调用</h4>
<h5 id="351-组织org1环境配置">3.5.1 组织Org1环境配置</h5>
<blockquote>
<p>export FABRIC_CFG_PATH=$PWD/../config/
export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID=&ldquo;Org1MSP&rdquo;
export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
export <a href="mailto:CORE_PEER_MSPCONFIGPATH=$%7bPWD%7d/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com">CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com</a>/msp
export CORE_PEER_ADDRESS=localhost:7051</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">FABRIC_CFG_PATH</span><span class="o">=</span><span class="nv">$PWD</span>/../config/
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">echo</span> <span class="nv">$FABRIC_CFG_PATH</span>
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/test-network/../config/
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# ll /workspace/github.com/fabric/fabric-samples/test-network/../config/
</span></span><span class="line"><span class="cl">总用量 <span class="m">88</span>
</span></span><span class="line"><span class="cl">drwxrwxrwx  <span class="m">2</span> <span class="m">1001</span>          <span class="m">1001</span>  <span class="m">4096</span> 1月  <span class="m">28</span> 20:41 ./
</span></span><span class="line"><span class="cl">drwxrwxrwx <span class="m">26</span> root root           <span class="m">4096</span> 5月  <span class="m">31</span> 16:49 ../
</span></span><span class="line"><span class="cl">-rwxrwxrwx  <span class="m">1</span> <span class="m">1001</span> avahi-autoipd <span class="m">25582</span> 1月  <span class="m">28</span> 20:40 configtx.yaml*
</span></span><span class="line"><span class="cl">-rwxrwxrwx  <span class="m">1</span> <span class="m">1001</span> avahi-autoipd <span class="m">34381</span> 1月  <span class="m">28</span> 20:40 core.yaml*
</span></span><span class="line"><span class="cl">-rwxrwxrwx  <span class="m">1</span> <span class="m">1001</span> avahi-autoipd <span class="m">15218</span> 1月  <span class="m">28</span> 20:40 orderer.yaml*
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="s2">&#34;Org1MSP&#34;</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/organizations/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>localhost:7051
</span></span></code></pre></div><h5 id="352-组织org1调用合约对资产初始化">3.5.2 组织Org1调用合约对资产初始化</h5>
<blockquote>
<p>peer chaincode invoke -o localhost:7050 &ndash;ordererTLSHostnameOverride orderer.example.com &ndash;tls &ndash;cafile &ldquo;${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem&rdquo; -C testchannel -n basic &ndash;peerAddresses localhost:7051 &ndash;tlsRootCertFiles &ldquo;${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt&rdquo; &ndash;peerAddresses localhost:9051 &ndash;tlsRootCertFiles &ldquo;${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt&rdquo; -c &lsquo;{&ldquo;function&rdquo;:&ldquo;InitLedger&rdquo;,&ldquo;Args&rdquo;:[]}&rsquo;</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile <span class="s2">&#34;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem&#34;</span> -C testchannel -n basic --peerAddresses localhost:7051 --tlsRootCertFiles <span class="s2">&#34;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt&#34;</span> --peerAddresses localhost:9051 --tlsRootCertFiles <span class="s2">&#34;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt&#34;</span> -c <span class="s1">&#39;{&#34;function&#34;:&#34;InitLedger&#34;,&#34;Args&#34;:[]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-05-31 17:47:16.953 CST <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">001</span> Chaincode invoke successful. result: status:200
</span></span></code></pre></div><h5 id="353-组织org1调用合约查询">3.5.3 组织Org1调用合约查询</h5>
<blockquote>
<p>peer chaincode query -C testchannel -n basic -c &lsquo;{&ldquo;Args&rdquo;:[&ldquo;GetAllAssets&rdquo;]}&rsquo;</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# peer chaincode query -C testchannel -n basic -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;GetAllAssets&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl"><span class="o">[{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;asset1&#34;</span>,<span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;ID&#34;</span>:<span class="s2">&#34;asset1&#34;</span>,<span class="s2">&#34;Color&#34;</span>:<span class="s2">&#34;blue&#34;</span>,<span class="s2">&#34;Size&#34;</span>:5,<span class="s2">&#34;Owner&#34;</span>:<span class="s2">&#34;Tomoko&#34;</span>,<span class="s2">&#34;AppraisedValue&#34;</span>:300,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;asset&#34;</span><span class="o">}}</span>,<span class="o">{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;asset2&#34;</span>,<span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;ID&#34;</span>:<span class="s2">&#34;asset2&#34;</span>,<span class="s2">&#34;Color&#34;</span>:<span class="s2">&#34;red&#34;</span>,<span class="s2">&#34;Size&#34;</span>:5,<span class="s2">&#34;Owner&#34;</span>:<span class="s2">&#34;Brad&#34;</span>,<span class="s2">&#34;AppraisedValue&#34;</span>:400,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;asset&#34;</span><span class="o">}}</span>,<span class="o">{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;asset3&#34;</span>,<span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;ID&#34;</span>:<span class="s2">&#34;asset3&#34;</span>,<span class="s2">&#34;Color&#34;</span>:<span class="s2">&#34;green&#34;</span>,<span class="s2">&#34;Size&#34;</span>:10,<span class="s2">&#34;Owner&#34;</span>:<span class="s2">&#34;Jin Soo&#34;</span>,<span class="s2">&#34;AppraisedValue&#34;</span>:500,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;asset&#34;</span><span class="o">}}</span>,<span class="o">{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;asset4&#34;</span>,<span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;ID&#34;</span>:<span class="s2">&#34;asset4&#34;</span>,<span class="s2">&#34;Color&#34;</span>:<span class="s2">&#34;yellow&#34;</span>,<span class="s2">&#34;Size&#34;</span>:10,<span class="s2">&#34;Owner&#34;</span>:<span class="s2">&#34;Max&#34;</span>,<span class="s2">&#34;AppraisedValue&#34;</span>:600,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;asset&#34;</span><span class="o">}}</span>,<span class="o">{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;asset5&#34;</span>,<span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;ID&#34;</span>:<span class="s2">&#34;asset5&#34;</span>,<span class="s2">&#34;Color&#34;</span>:<span class="s2">&#34;black&#34;</span>,<span class="s2">&#34;Size&#34;</span>:15,<span class="s2">&#34;Owner&#34;</span>:<span class="s2">&#34;Adriana&#34;</span>,<span class="s2">&#34;AppraisedValue&#34;</span>:700,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;asset&#34;</span><span class="o">}}</span>,<span class="o">{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;asset6&#34;</span>,<span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;ID&#34;</span>:<span class="s2">&#34;asset6&#34;</span>,<span class="s2">&#34;Color&#34;</span>:<span class="s2">&#34;white&#34;</span>,<span class="s2">&#34;Size&#34;</span>:15,<span class="s2">&#34;Owner&#34;</span>:<span class="s2">&#34;Michel&#34;</span>,<span class="s2">&#34;AppraisedValue&#34;</span>:800,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;asset&#34;</span><span class="o">}}]</span>
</span></span></code></pre></div><h5 id="354-组织org1调用合约更改资产所有者">3.5.4 组织Org1调用合约更改资产所有者</h5>
<blockquote>
<p>peer chaincode invoke -o localhost:7050 &ndash;ordererTLSHostnameOverride orderer.example.com &ndash;tls &ndash;cafile &ldquo;${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem&rdquo; -C testchannel -n basic &ndash;peerAddresses localhost:7051 &ndash;tlsRootCertFiles &ldquo;${PWD}/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt&rdquo; &ndash;peerAddresses localhost:9051 &ndash;tlsRootCertFiles &ldquo;${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt&rdquo; -c &lsquo;{&ldquo;function&rdquo;:&ldquo;TransferAsset&rdquo;,&ldquo;Args&rdquo;:[&ldquo;asset6&rdquo;,&ldquo;Christopher&rdquo;]}&rsquo;</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile <span class="s2">&#34;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem&#34;</span> -C testchannel -n basic --peerAddresses localhost:7051 --tlsRootCertFiles <span class="s2">&#34;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/organizations/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt&#34;</span> --peerAddresses localhost:9051 --tlsRootCertFiles <span class="s2">&#34;</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span><span class="s2">/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt&#34;</span> -c <span class="s1">&#39;{&#34;function&#34;:&#34;TransferAsset&#34;,&#34;Args&#34;:[&#34;asset6&#34;,&#34;Christopher&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-05-31 17:47:37.803 CST <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">001</span> Chaincode invoke successful. result: status:200 payload:<span class="s2">&#34;{\&#34;type\&#34;:\&#34;Buffer\&#34;,\&#34;data\&#34;:[]}&#34;</span>
</span></span></code></pre></div><h5 id="355-组织org2环境配置">3.5.5 组织Org2环境配置</h5>
<blockquote>
<p>export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID=&ldquo;Org2MSP&rdquo;
export CORE_PEER_TLS_ROOTCERT_FILE=${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
export <a href="mailto:CORE_PEER_MSPCONFIGPATH=$%7bPWD%7d/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com">CORE_PEER_MSPCONFIGPATH=${PWD}/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com</a>/msp
export CORE_PEER_ADDRESS=localhost:9051</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="s2">&#34;Org2MSP&#34;</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/organizations/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# <span class="nb">export</span> <span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>localhost:9051
</span></span></code></pre></div><h5 id="356-组织org2调用合约查询结果">3.5.6 组织Org2调用合约查询结果</h5>
<blockquote>
<p>peer chaincode query -C testchannel -n basic -c &lsquo;{&ldquo;Args&rdquo;:[&ldquo;ReadAsset&rdquo;,&ldquo;asset6&rdquo;]}&rsquo;</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# peer chaincode query -C testchannel -n basic -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;ReadAsset&#34;,&#34;asset6&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span><span class="s2">&#34;ID&#34;</span>:<span class="s2">&#34;asset6&#34;</span>,<span class="s2">&#34;Color&#34;</span>:<span class="s2">&#34;white&#34;</span>,<span class="s2">&#34;Size&#34;</span>:15,<span class="s2">&#34;Owner&#34;</span>:<span class="s2">&#34;Christopher&#34;</span>,<span class="s2">&#34;AppraisedValue&#34;</span>:800,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;asset&#34;</span><span class="o">}</span>
</span></span></code></pre></div><h4 id="36-关闭网络">3.6 关闭网络</h4>
<blockquote>
<p>./network.sh down</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# ./network.sh down
</span></span><span class="line"><span class="cl">Stopping network
</span></span><span class="line"><span class="cl">Stopping cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing network fabric_test
</span></span><span class="line"><span class="cl">Removing volume docker_orderer.example.com
</span></span><span class="line"><span class="cl">Removing volume docker_peer0.org1.example.com
</span></span><span class="line"><span class="cl">Removing volume docker_peer0.org2.example.com
</span></span><span class="line"><span class="cl">Removing network fabric_test
</span></span><span class="line"><span class="cl">WARNING: Network fabric_test not found.
</span></span><span class="line"><span class="cl">Removing volume docker_peer0.org3.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume docker_peer0.org3.example.com not found.
</span></span><span class="line"><span class="cl">No containers available <span class="k">for</span> deletion
</span></span><span class="line"><span class="cl">Untagged: dev-peer0.org2.example.com-basic_1.0-5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0-7afd1ed5571b9e3e2148baf7369c0d8d3cecb38f292a8fff36cf034ba92d9005:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:86ad89e673c01bd32a541a5d05ecc8a816b1b4c25319f1c0771a3656862f8bb2
</span></span><span class="line"><span class="cl">Deleted: sha256:a0cbd2c6d77395db8902fdb55ea40ce3afd7f51c121006569c148962ae75b18b
</span></span><span class="line"><span class="cl">Deleted: sha256:486425f847e8c59b45a653976ab1d9eba4e37171dc0c57a2d722a9b6709adb74
</span></span><span class="line"><span class="cl">Deleted: sha256:e96a383c26ccce694934884e8204edac57917291d98cd7a90caa327b562ea557
</span></span><span class="line"><span class="cl">Untagged: dev-peer0.org1.example.com-basic_1.0-5c1ce9660841cc944290ee8bf9f36eee9af8fad7ffcefb8fa75b5c8f6883cef0-c267bdc9fc52605a00fd9106a5d8ed66b967eafdab3b10fa1e07ddac9abc93bb:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:46a73f411c97627d7b7cf3de1c491421904319b865554b62d400071c25c9f6b0
</span></span><span class="line"><span class="cl">Deleted: sha256:ae0ad80e0f2883f35eb4482b631c016760d704392b671593ea9df3808c0ddffb
</span></span><span class="line"><span class="cl">Deleted: sha256:684b7aa002e3a00263a7d9411fe292e94895da9e33deac198ff495f9a3fea50d
</span></span><span class="line"><span class="cl">Deleted: sha256:09d4fe38cfcbd8d46f72a70add787563daf3251c77dd56906782f09bd1cd1f74
</span></span></code></pre></div><h4 id="37-删除重复docker">3.7 删除重复docker</h4>
<blockquote>
<p>docker rmi hyperledger/fabric-tools:latest
docker rmi hyperledger/fabric-peer:latest
docker rmi hyperledger/fabric-orderer:latest</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# docker rmi hyperledger/fabric-tools:latest
</span></span><span class="line"><span class="cl">Untagged: hyperledger/fabric-tools:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# docker rmi hyperledger/fabric-peer:latest
</span></span><span class="line"><span class="cl">Untagged: hyperledger/fabric-peer:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# docker rmi hyperledger/fabric-orderer:latest
</span></span><span class="line"><span class="cl">Untagged: hyperledger/fabric-orderer:latest
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/test-network# docker images
</span></span><span class="line"><span class="cl">REPOSITORY                   TAG       IMAGE ID       CREATED         SIZE
</span></span><span class="line"><span class="cl">busybox                      latest    3fb5cabb6469   <span class="m">5</span> days ago      1.24MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-tools     2.2.5     754df4def0cf   <span class="m">4</span> months ago    442MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-peer      2.2.5     94f45b88b26a   <span class="m">4</span> months ago    51MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-orderer   2.2.5     c25c16d51e1e   <span class="m">4</span> months ago    34.7MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ccenv     2.2.5     7cce5e687fe7   <span class="m">4</span> months ago    516MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-baseos    2.2.5     ab5f045ec622   <span class="m">4</span> months ago    6.94MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-ca        1.5.2     4ea287b75c63   <span class="m">8</span> months ago    69.8MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-nodeenv   2.2       1c0903d73400   <span class="m">9</span> months ago    295MB
</span></span><span class="line"><span class="cl">hyperledger/fabric-javaenv   2.2       c47df6b15c80   <span class="m">10</span> months ago   415MB
</span></span></code></pre></div><h3 id="4-110版本安装教程">4. 1.1.0版本安装教程</h3>
<p>参考教程：<a href="https://hyperledger-fabric.readthedocs.io/en/release-1.1/build_network.html" target="_blank" rel="noopener">Docs » Tutorials » Building Your First Network</a></p>
<h4 id="41-网络初始化">4.1 网络初始化</h4>
<blockquote>
<p>./byfn.sh -m generate</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ./byfn.sh -m generate
</span></span><span class="line"><span class="cl">Generating certs and genesis block <span class="k">for</span> with channel <span class="s1">&#39;mychannel&#39;</span> and CLI timeout of <span class="s1">&#39;10&#39;</span> seconds and CLI delay of <span class="s1">&#39;3&#39;</span> seconds
</span></span><span class="line"><span class="cl">Continue? <span class="o">[</span>Y/n<span class="o">]</span> y
</span></span><span class="line"><span class="cl">proceeding ...
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/first-network/../bin/cryptogen
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">##### Generate certificates using cryptogen tool #########</span>
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl">+ cryptogen generate --config<span class="o">=</span>./crypto-config.yaml
</span></span><span class="line"><span class="cl">org1.example.com
</span></span><span class="line"><span class="cl">org2.example.com
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/first-network/../bin/configtxgen
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">#########  Generating Orderer Genesis block ##############</span>
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.235 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.240 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">002</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.240 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">003</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.241 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">004</span> Generating genesis block
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.241 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">005</span> Writing genesis block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">### Generating channel configuration transaction &#39;channel.tx&#39; ###</span>
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID mychannel
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.250 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.255 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputChannelCreateTx -&gt; INFO <span class="m">002</span> Generating new channel configtx
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.256 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">003</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.256 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">004</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.270 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputChannelCreateTx -&gt; INFO <span class="m">005</span> Writing new channel tx
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######    Generating anchor peer update for Org1MSP   ##########</span>
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID mychannel -asOrg Org1MSP
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.279 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.284 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">002</span> Generating anchor peer update
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.284 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">003</span> Writing anchor peer update
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######    Generating anchor peer update for Org2MSP   ##########</span>
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID mychannel -asOrg Org2MSP
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.293 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.298 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">002</span> Generating anchor peer update
</span></span><span class="line"><span class="cl">2022-05-31 20:51:30.298 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">003</span> Writing anchor peer update
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span></code></pre></div><h4 id="42-启动网络">4.2 启动网络</h4>
<blockquote>
<p>./byfn.sh -m up</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ./byfn.sh -m up
</span></span><span class="line"><span class="cl">Starting with channel <span class="s1">&#39;mychannel&#39;</span> and CLI timeout of <span class="s1">&#39;10&#39;</span> seconds and CLI delay of <span class="s1">&#39;3&#39;</span> seconds
</span></span><span class="line"><span class="cl">Continue? <span class="o">[</span>Y/n<span class="o">]</span> y
</span></span><span class="line"><span class="cl">proceeding ...
</span></span><span class="line"><span class="cl">2022-05-31 13:40:54.798 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="nv">LOCAL_VERSION</span><span class="o">=</span>1.1.0
</span></span><span class="line"><span class="cl"><span class="nv">DOCKER_IMAGE_VERSION</span><span class="o">=</span>1.1.0
</span></span><span class="line"><span class="cl">Recreating peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Recreating peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Recreating peer1.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Recreating orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Recreating peer1.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Recreating cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> ____    _____      _      ____    _____ 
</span></span><span class="line"><span class="cl">/ ___<span class="p">|</span>  <span class="p">|</span>_   _<span class="p">|</span>    / <span class="se">\ </span>   <span class="p">|</span>  _ <span class="se">\ </span> <span class="p">|</span>_   _<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="se">\_</span>__ <span class="se">\ </span>   <span class="p">|</span> <span class="p">|</span>     / _ <span class="se">\ </span>  <span class="p">|</span> <span class="p">|</span>_<span class="o">)</span> <span class="p">|</span>   <span class="p">|</span> <span class="p">|</span>  
</span></span><span class="line"><span class="cl"> ___<span class="o">)</span> <span class="p">|</span>   <span class="p">|</span> <span class="p">|</span>    / ___ <span class="se">\ </span> <span class="p">|</span>  _ &lt;    <span class="p">|</span> <span class="p">|</span>  
</span></span><span class="line"><span class="cl"><span class="p">|</span>____/    <span class="p">|</span>_<span class="p">|</span>   /_/   <span class="se">\_\ </span><span class="p">|</span>_<span class="p">|</span> <span class="se">\_\ </span>  <span class="p">|</span>_<span class="p">|</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Build your first network <span class="o">(</span>BYFN<span class="o">)</span> end-to-end <span class="nb">test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Channel name : mychannel
</span></span><span class="line"><span class="cl">Creating channel...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:40:57.106 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:40:57.123 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">002</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:40:57.329 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Channel <span class="s2">&#34;mychannel&#34;</span> is created <span class="nv">successfully</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Having all peers join the channel...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:40:57.412 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:40:57.456 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-05-31 13:40:57.456 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer0.org1 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:00.540 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:41:00.572 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-05-31 13:41:00.572 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer1.org1 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:03.652 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:41:03.698 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-05-31 13:41:03.698 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer0.org2 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:06.738 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:41:06.768 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-05-31 13:41:06.769 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer1.org2 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Updating anchor peers <span class="k">for</span> org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel update -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/Org1MSPanchors.tx --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:09.850 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:41:09.857 UTC <span class="o">[</span>channelCmd<span class="o">]</span> update -&gt; INFO <span class="m">002</span> Successfully submitted channel update
</span></span><span class="line"><span class="cl">2022-05-31 13:41:09.857 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Anchor peers <span class="k">for</span> org <span class="s2">&#34;Org1MSP&#34;</span> on <span class="s2">&#34;mychannel&#34;</span> is updated <span class="nv">successfully</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Updating anchor peers <span class="k">for</span> org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel update -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/Org2MSPanchors.tx --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:12.897 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-05-31 13:41:12.905 UTC <span class="o">[</span>channelCmd<span class="o">]</span> update -&gt; INFO <span class="m">002</span> Successfully submitted channel update
</span></span><span class="line"><span class="cl">2022-05-31 13:41:12.905 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Anchor peers <span class="k">for</span> org <span class="s2">&#34;Org2MSP&#34;</span> on <span class="s2">&#34;mychannel&#34;</span> is updated <span class="nv">successfully</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Installing chaincode on peer0.org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_example02/go/
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:15.986 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:15.986 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:16.083 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode is installed on peer0.org1 <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Install chaincode on peer0.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_example02/go/
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:16.110 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:16.110 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:16.203 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode is installed on peer0.org2 <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Instantiating chaincode on peer0.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode instantiate -o orderer.example.com:7050 --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc -l golang -v 1.0 -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;init&#34;,&#34;a&#34;,&#34;100&#34;,&#34;b&#34;,&#34;200&#34;]}&#39;</span> -P <span class="s1">&#39;OR	(&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;Org1MSP.peer&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;,&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;Org2MSP.peer&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;)&#39;</span>
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:16.233 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:16.233 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:22.432 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode Instantiation on peer0.org2 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Querying chaincode on peer0.org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Querying on peer0.org1 on channel <span class="s1">&#39;mychannel&#39;</span>... <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">+ peer chaincode query -C mychannel -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">Attempting to Query peer0.org1 ...3 secs
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2022-05-31 13:41:25.506 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:25.506 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="m">100</span>
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.788 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Query on peer0.org1 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">Sending invoke transaction on peer0.org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode invoke -o orderer.example.com:7050 --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;invoke&#34;,&#34;a&#34;,&#34;b&#34;,&#34;10&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.822 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.823 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.827 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.827 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Invoke transaction on peer0.org1 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Installing chaincode on peer1.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_example02/go/
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.854 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.854 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:31.946 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode is installed on peer1.org2 <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Querying chaincode on peer1.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org2.example.com:7051
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Querying on peer1.org2 on channel <span class="s1">&#39;mychannel&#39;</span>... <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">+ peer chaincode query -C mychannel -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">Attempting to Query peer1.org2 ...3 secs
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2022-05-31 13:41:35.026 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-05-31 13:41:35.026 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="m">90</span>
</span></span><span class="line"><span class="cl">2022-05-31 13:41:41.447 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Query on peer1.org2 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">=========</span> All GOOD, BYFN execution <span class="nv">completed</span> <span class="o">===========</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> _____   _   _   ____   
</span></span><span class="line"><span class="cl"><span class="p">|</span> ____<span class="p">|</span> <span class="p">|</span> <span class="se">\ </span><span class="p">|</span> <span class="p">|</span> <span class="p">|</span>  _ <span class="se">\ </span> 
</span></span><span class="line"><span class="cl"><span class="p">|</span>  _<span class="p">|</span>   <span class="p">|</span>  <span class="se">\|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> 
</span></span><span class="line"><span class="cl"><span class="p">|</span> <span class="p">|</span>___  <span class="p">|</span> <span class="p">|</span><span class="se">\ </span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span>_<span class="p">|</span> <span class="p">|</span> 
</span></span><span class="line"><span class="cl"><span class="p">|</span>_____<span class="p">|</span> <span class="p">|</span>_<span class="p">|</span> <span class="se">\_</span><span class="p">|</span> <span class="p">|</span>____/  
</span></span></code></pre></div><h4 id="43-关闭网络">4.3 关闭网络</h4>
<blockquote>
<p>./byfn.sh down</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ./byfn.sh down
</span></span><span class="line"><span class="cl">Stopping with channel <span class="s1">&#39;mychannel&#39;</span> and CLI timeout of <span class="s1">&#39;10&#39;</span> seconds and CLI delay of <span class="s1">&#39;3&#39;</span> seconds
</span></span><span class="line"><span class="cl">Continue? <span class="o">[</span>Y/n<span class="o">]</span> y
</span></span><span class="line"><span class="cl">proceeding ...
</span></span><span class="line"><span class="cl">Stopping cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer1.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer1.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer1.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer1.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing network net_byfn
</span></span><span class="line"><span class="cl">Removing volume net_orderer.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org1.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org1.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org2.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org2.example.com
</span></span><span class="line"><span class="cl">Removing network net_byfn
</span></span><span class="line"><span class="cl">WARNING: Network net_byfn not found.
</span></span><span class="line"><span class="cl">Removing volume net_orderer.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_orderer.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org1.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer0.org1.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org1.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer1.org1.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org2.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer0.org2.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org2.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer1.org2.example.com not found.
</span></span><span class="line"><span class="cl">c4fe62fbc719
</span></span><span class="line"><span class="cl">8aa9782a24a6
</span></span><span class="line"><span class="cl">24f7353bceca
</span></span><span class="line"><span class="cl">Untagged: dev-peer1.org2.example.com-mycc-1.0-26c2ef32838554aac4f7ad6f100aca865e87959c9a126e86d764c8d01f8346ab:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:74be209634c0feaf6280303a7326cb53902d3de795a0e40725a894d89c685e3a
</span></span><span class="line"><span class="cl">Deleted: sha256:d41a91885a1983362d2fd9622b38b0c42dba3d41a0d256a3e695149fef53cb32
</span></span><span class="line"><span class="cl">Deleted: sha256:6b3ea0424968a3bbcfd88394056de6e22d6b06014c787d754ded29075d80f351
</span></span><span class="line"><span class="cl">Deleted: sha256:030b2c0e14f52c1c654113152246419bad906d35069ca1b30dce5c1ac7b4f3a6
</span></span><span class="line"><span class="cl">Untagged: dev-peer0.org1.example.com-mycc-1.0-384f11f484b9302df90b453200cfb25174305fce8f53f4e94d45ee3b6cab0ce9:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:888e19028398515c5a9dee7720606d5b5f7343ffc71d4d494a8d69daf3bddbdd
</span></span><span class="line"><span class="cl">Deleted: sha256:5695d33292b34da1ecabbed62f3aefb89e3d46cd331abb9d8d6d8ebb35c8363b
</span></span><span class="line"><span class="cl">Deleted: sha256:ef70acef45837079df8271d0a15d3e47f2bce164df28a93da371f63ade795337
</span></span><span class="line"><span class="cl">Deleted: sha256:35e2bb837f88cf4813a7457edbe5eb643f1d80f39c8a8c969448f08b126faee4
</span></span><span class="line"><span class="cl">Untagged: dev-peer0.org2.example.com-mycc-1.0-15b571b3ce849066b7ec74497da3b27e54e0df1345daff3951b94245ce09c42b:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:f08e6d94c22f6d15cffb0424322c79bedcced57557b069ff2f3de2bd088dd5b5
</span></span><span class="line"><span class="cl">Deleted: sha256:362f221c55cf2a37d7e10b901e692d89e13fa08aeb05a8157a488b308e10da23
</span></span><span class="line"><span class="cl">Deleted: sha256:8afa6aef1f13e0c099b399c18b1f2474ffd28f16aaab2887267792fe46581697
</span></span><span class="line"><span class="cl">Deleted: sha256:7017f585e17085f79c388840762450b79caba9bed21c77041ca1f1673123d315
</span></span></code></pre></div><h4 id="44-部署智能合约">4.4 部署智能合约</h4>
<p>参考：<a href="https://zhuanlan.zhihu.com/p/32741931" target="_blank" rel="noopener">Hyperledger Fabric 容器部署以及chaincode测试(BYFN)</a>+<a href="https://hyperledger-fabric.readthedocs.io/en/release-1.1/build_network.html" target="_blank" rel="noopener">Docs » Tutorials » Building Your First Network</a></p>
<h5 id="441-fabric-11-初始声明">4.4.1 fabric 1.1 初始声明</h5>
<p>手动生成加密配置文件<strong>configtxgen</strong>（证书和密钥），默认通道为<strong>mychannel</strong>，并在其中设置两个组织Org1和Org2在通道中的映射节点</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">../bin/cryptogen generate --config<span class="o">=</span>./crypto-config.yaml
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">FABRIC_CFG_PATH</span><span class="o">=</span><span class="nv">$PWD</span>
</span></span><span class="line"><span class="cl">../bin/configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CHANNEL_NAME</span><span class="o">=</span>mychannel  <span class="o">&amp;&amp;</span> ../bin/configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID <span class="nv">$CHANNEL_NAME</span>
</span></span><span class="line"><span class="cl">../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID <span class="nv">$CHANNEL_NAME</span> -asOrg Org1MSP
</span></span><span class="line"><span class="cl">../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID <span class="nv">$CHANNEL_NAME</span> -asOrg Org2MSP
</span></span></code></pre></div><p>执行结果</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ../bin/cryptogen generate --config<span class="o">=</span>./crypto-config.yaml
</span></span><span class="line"><span class="cl">org1.example.com
</span></span><span class="line"><span class="cl">org2.example.com
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ls
</span></span><span class="line"><span class="cl">base               crypto-config                   docker-compose-couch.yaml         org3-artifacts
</span></span><span class="line"><span class="cl">byfn.sh            crypto-config.yaml              docker-compose-e2e-template.yaml  README.md
</span></span><span class="line"><span class="cl">channel-artifacts  docker-compose-cli.yaml         docker-compose-org3.yaml          scripts
</span></span><span class="line"><span class="cl">configtx.yaml      docker-compose-couch-org3.yaml  eyfn.sh
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# <span class="nb">export</span> <span class="nv">FABRIC_CFG_PATH</span><span class="o">=</span><span class="nv">$PWD</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# <span class="nb">echo</span> <span class="nv">$FABRIC_CFG_PATH</span>
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/first-network
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ../bin/configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block
</span></span><span class="line"><span class="cl">2022-06-01 17:17:56.061 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 17:17:56.083 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">002</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 17:17:56.084 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">003</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 17:17:56.085 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">004</span> Generating genesis block
</span></span><span class="line"><span class="cl">2022-06-01 17:17:56.086 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">005</span> Writing genesis block
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# <span class="nb">export</span> <span class="nv">CHANNEL_NAME</span><span class="o">=</span>mychannel  <span class="o">&amp;&amp;</span> ../bin/configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID <span class="nv">$CHANNEL_NAME</span>
</span></span><span class="line"><span class="cl">2022-06-01 17:18:32.175 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 17:18:32.193 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputChannelCreateTx -&gt; INFO <span class="m">002</span> Generating new channel configtx
</span></span><span class="line"><span class="cl">2022-06-01 17:18:32.194 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">003</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 17:18:32.194 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">004</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 17:18:32.218 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputChannelCreateTx -&gt; INFO <span class="m">005</span> Writing new channel tx
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID <span class="nv">$CHANNEL_NAME</span> -asOrg Org1MSP
</span></span><span class="line"><span class="cl">2022-06-01 17:19:10.801 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 17:19:10.818 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">002</span> Generating anchor peer update
</span></span><span class="line"><span class="cl">2022-06-01 17:19:10.818 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">003</span> Writing anchor peer update
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID <span class="nv">$CHANNEL_NAME</span> -asOrg Org2MSP
</span></span><span class="line"><span class="cl">2022-06-01 17:19:19.337 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 17:19:19.342 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">002</span> Generating anchor peer update
</span></span><span class="line"><span class="cl">2022-06-01 17:19:19.342 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">003</span> Writing anchor peer update
</span></span></code></pre></div><h5 id="442--fabric-11-网络启动">4.4.2  fabric 1.1 网络启动</h5>
<h6 id="4421-基于docker启动cli对应镜像并设置cli环境变量">4.4.2.1 基于docker启动cli对应镜像，并设置cli环境变量：</h6>
<blockquote>
<p>docker-compose -f docker-compose-cli.yaml up -d
export <a href="mailto:CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com">CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com</a>/msp
export CORE_PEER_ADDRESS=peer0.org1.example.com:7051
export CORE_PEER_LOCALMSPID=&ldquo;Org1MSP&rdquo;
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker-compose -f docker-compose-cli.yaml up -d
</span></span><span class="line"><span class="cl">Creating network <span class="s2">&#34;net_byfn&#34;</span> with the default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_orderer.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer0.org1.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer1.org1.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer0.org2.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer1.org2.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating peer1.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer1.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# <span class="nb">export</span> <span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# <span class="nb">export</span> <span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# <span class="nb">export</span> <span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="s2">&#34;Org1MSP&#34;</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# <span class="nb">export</span> <span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span></code></pre></div><h6 id="4422-基于cli镜像配置通道信息加入通道并更新org1在通道中的节点定义">4.4.2.2 基于cli镜像配置通道信息，加入通道并更新Org1在通道中的节点定义</h6>
<blockquote>
<p>docker exec -it cli bash
export CHANNEL_NAME=mychannel
peer channel create -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/channel.tx &ndash;tls &ndash;cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
peer channel join -b mychannel.block
peer channel update -o orderer.example.com:7050 -c $CHANNEL_NAME -f ./channel-artifacts/Org1MSPanchors.tx &ndash;tls &ndash;cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker <span class="nb">exec</span> -it cli bash
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# <span class="nb">export</span> <span class="nv">CHANNEL_NAME</span><span class="o">=</span>mychannel
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel create -o orderer.example.com:7050 -c <span class="nv">$CHANNEL_NAME</span> -f ./channel-artifacts/channel.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">2022-06-01 13:00:21.138 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:00:21.166 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">002</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:00:21.372 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">2022-06-01 13:00:47.922 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:00:47.949 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-06-01 13:00:47.949 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel update -o orderer.example.com:7050 -c <span class="nv">$CHANNEL_NAME</span> -f ./channel-artifacts/Org1MSPanchors.tx --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">2022-06-01 13:01:52.349 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:01:52.356 UTC <span class="o">[</span>channelCmd<span class="o">]</span> update -&gt; INFO <span class="m">002</span> Successfully submitted channel update
</span></span><span class="line"><span class="cl">2022-06-01 13:01:52.356 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span></code></pre></div><h5 id="443-fabric-110-安装并调用合约">4.4.3 fabric-1.1.0 安装并调用合约</h5>
<ol>
<li>基于nodeJs安装合约mycc，并对该合约采用某一机构进行背书</li>
<li>完成合约在节点的实例化，即设置a资产为100，b资产为200</li>
<li>查询当前a的资产，返回结果 <strong>Query Result: 100</strong></li>
<li>进行a向b的交易：a向b交易10</li>
<li>再次查询a的资产，返回结果 <strong>Query Result: 90</strong></li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">peer chaincode install -n mycc -v 1.0 -l node -p 
</span></span><span class="line"><span class="cl">peer chaincode instantiate -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n mycc -l node -v 1.0 -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;init&#34;,&#34;a&#34;, &#34;100&#34;, &#34;b&#34;,&#34;200&#34;]}&#39;</span> -P <span class="s2">&#34;OR (&#39;Org1MSP.peer&#39;,&#39;Org2MSP.peer&#39;)&#34;</span>
</span></span><span class="line"><span class="cl">peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode invoke -o orderer.example.com:7050  --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem  -C <span class="nv">$CHANNEL_NAME</span> -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;invoke&#34;,&#34;a&#34;,&#34;b&#34;,&#34;10&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span></code></pre></div><p>执行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode install -n mycc -v 1.0 -l node -p /opt/gopath/src/github.com/chaincode/chaincode_example02/node/
</span></span><span class="line"><span class="cl">2022-06-01 13:03:22.343 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:03:22.343 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:03:22.343 UTC <span class="o">[</span>container<span class="o">]</span> WriteFolderToTarPackage -&gt; INFO <span class="m">003</span> <span class="nv">rootDirectory</span> <span class="o">=</span> /opt/gopath/src/github.com/chaincode/chaincode_example02/node
</span></span><span class="line"><span class="cl">2022-06-01 13:03:22.348 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode instantiate -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n mycc -l node -v 1.0 -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;init&#34;,&#34;a&#34;, &#34;100&#34;, &#34;b&#34;,&#34;200&#34;]}&#39;</span> -P <span class="s2">&#34;OR (&#39;Org1MSP.peer&#39;,&#39;Org2MSP.peer&#39;)&#34;</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:03:40.762 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:03:40.762 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:04:33.787 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:04:48.211 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:04:48.211 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="m">100</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:04:48.217 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050  --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem  -C <span class="nv">$CHANNEL_NAME</span> -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;invoke&#34;,&#34;a&#34;,&#34;b&#34;,&#34;10&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:05:01.392 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:05:01.392 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:05:01.397 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-06-01 13:05:01.397 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:05:12.758 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:05:12.758 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="m">90</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:05:12.762 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span></code></pre></div><h4 id="45-fabric-110-查询容器日志">4.5 fabric-1.1.0 查询容器日志</h4>
<blockquote>
<p>docker ps -a
docker logs e72f41b13ccd</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@700469a277f7:/opt/gopath/src/github.com/hyperledger/fabric/peer# <span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker logs dev-peer0.org2.example.com-mycc-1.0
</span></span><span class="line"><span class="cl">Error: No such container: dev-peer0.org2.example.com-mycc-1.0
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker ps -a
</span></span><span class="line"><span class="cl">CONTAINER ID   IMAGE                                                                                                  COMMAND                  CREATED          STATUS          PORTS                                                                                      NAMES
</span></span><span class="line"><span class="cl">e72f41b13ccd   dev-peer0.org1.example.com-mycc-1.0-384f11f484b9302df90b453200cfb25174305fce8f53f4e94d45ee3b6cab0ce9   <span class="s2">&#34;/bin/sh -c &#39;cd /usr…&#34;</span>   <span class="m">30</span> minutes ago   Up <span class="m">30</span> minutes                                                                                              dev-peer0.org1.example.com-mycc-1.0
</span></span><span class="line"><span class="cl">700469a277f7   hyperledger/fabric-tools:latest                                                                        <span class="s2">&#34;/bin/bash&#34;</span>              <span class="m">37</span> minutes ago   Up <span class="m">37</span> minutes                                                                                              cli
</span></span><span class="line"><span class="cl">def095baa470   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">37</span> minutes ago   Up <span class="m">37</span> minutes   0.0.0.0:9051-&gt;7051/tcp, :::9051-&gt;7051/tcp, 0.0.0.0:9053-&gt;7053/tcp, :::9053-&gt;7053/tcp       peer0.org2.example.com
</span></span><span class="line"><span class="cl">f94e10d87327   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">37</span> minutes ago   Up <span class="m">37</span> minutes   0.0.0.0:7051-&gt;7051/tcp, :::7051-&gt;7051/tcp, 0.0.0.0:7053-&gt;7053/tcp, :::7053-&gt;7053/tcp       peer0.org1.example.com
</span></span><span class="line"><span class="cl">2679a2141374   hyperledger/fabric-orderer:latest                                                                      <span class="s2">&#34;orderer&#34;</span>                <span class="m">37</span> minutes ago   Up <span class="m">37</span> minutes   0.0.0.0:7050-&gt;7050/tcp, :::7050-&gt;7050/tcp                                                  orderer.example.com
</span></span><span class="line"><span class="cl">cfce165c9972   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">37</span> minutes ago   Up <span class="m">37</span> minutes   0.0.0.0:8051-&gt;7051/tcp, :::8051-&gt;7051/tcp, 0.0.0.0:8053-&gt;7053/tcp, :::8053-&gt;7053/tcp       peer1.org1.example.com
</span></span><span class="line"><span class="cl">81416af7a316   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">37</span> minutes ago   Up <span class="m">37</span> minutes   0.0.0.0:10051-&gt;7051/tcp, :::10051-&gt;7051/tcp, 0.0.0.0:10053-&gt;7053/tcp, :::10053-&gt;7053/tcp   peer1.org2.example.com
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker logs e72f41b13ccd
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&gt; chaincode_example02@1.0.0 start /usr/local/src
</span></span><span class="line"><span class="cl">&gt; node chaincode_example02.js <span class="s2">&#34;--peer.address&#34;</span> <span class="s2">&#34;peer0.org1.example.com:7052&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">E0601 13:04:33.778661389      <span class="m">18</span> ssl_transport_security.cc:238<span class="o">]</span> Could not get common name of subject from certificate.
</span></span><span class="line"><span class="cl"><span class="o">=========</span> example02 <span class="nv">Init</span> <span class="o">=========</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span> fcn: <span class="s1">&#39;init&#39;</span>, params: <span class="o">[</span> <span class="s1">&#39;a&#39;</span>, <span class="s1">&#39;100&#39;</span>, <span class="s1">&#39;b&#39;</span>, <span class="s1">&#39;200&#39;</span> <span class="o">]</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span> fcn: <span class="s1">&#39;query&#39;</span>, params: <span class="o">[</span> <span class="s1">&#39;a&#39;</span> <span class="o">]</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">Query Response:
</span></span><span class="line"><span class="cl"><span class="o">{</span> name: <span class="s1">&#39;a&#39;</span>, amount: <span class="s1">&#39;100&#39;</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="o">{</span> fcn: <span class="s1">&#39;invoke&#39;</span>, params: <span class="o">[</span> <span class="s1">&#39;a&#39;</span>, <span class="s1">&#39;b&#39;</span>, <span class="s1">&#39;10&#39;</span> <span class="o">]</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl"><span class="nv">Aval</span> <span class="o">=</span> 90, <span class="nv">Bval</span> <span class="o">=</span> <span class="m">210</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">{</span> fcn: <span class="s1">&#39;query&#39;</span>, params: <span class="o">[</span> <span class="s1">&#39;a&#39;</span> <span class="o">]</span> <span class="o">}</span>
</span></span><span class="line"><span class="cl">Query Response:
</span></span><span class="line"><span class="cl"><span class="o">{</span> name: <span class="s1">&#39;a&#39;</span>, amount: <span class="s1">&#39;90&#39;</span> <span class="o">}</span>
</span></span></code></pre></div><h4 id="46-调用couchdb启动-fabric-11">4.6 调用couchdb启动 fabric 1.1</h4>
<h5 id="461-fabric110-基于脚本调用couchdb">4.6.1 fabric1.1.0 基于脚本调用couchdb</h5>
<p>先关闭当前网络，再简单调用-s参数启动couchdb，通过日志查看确认已完成智能合约的调用</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">./byfn.sh down
</span></span><span class="line"><span class="cl">./byfn.sh -m up -t <span class="m">999999</span> -s couchdb
</span></span><span class="line"><span class="cl">docker ps -a
</span></span><span class="line"><span class="cl">docker logs 093463781acb
</span></span><span class="line"><span class="cl">docker logs 0ac07673c5fa
</span></span><span class="line"><span class="cl">docker logs 027261fec09c
</span></span></code></pre></div><p>运行结果</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ./byfn.sh -m up -t <span class="m">999999</span> -s couchdb
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Starting with channel <span class="s1">&#39;mychannel&#39;</span> and CLI timeout of <span class="s1">&#39;999999&#39;</span> seconds and CLI delay of <span class="s1">&#39;3&#39;</span> seconds and using database <span class="s1">&#39;couchdb&#39;</span>
</span></span><span class="line"><span class="cl">Continue? <span class="o">[</span>Y/n<span class="o">]</span> y
</span></span><span class="line"><span class="cl">proceeding ...
</span></span><span class="line"><span class="cl">2022-06-01 13:48:43.784 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="nv">LOCAL_VERSION</span><span class="o">=</span>1.1.0
</span></span><span class="line"><span class="cl"><span class="nv">DOCKER_IMAGE_VERSION</span><span class="o">=</span>1.1.0
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/first-network/../bin/cryptogen
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">##### Generate certificates using cryptogen tool #########</span>
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl">+ cryptogen generate --config<span class="o">=</span>./crypto-config.yaml
</span></span><span class="line"><span class="cl">org1.example.com
</span></span><span class="line"><span class="cl">org2.example.com
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/workspace/github.com/fabric/fabric-samples/first-network/../bin/configtxgen
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">#########  Generating Orderer Genesis block ##############</span>
</span></span><span class="line"><span class="cl"><span class="c1">##########################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.079 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.085 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">002</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.085 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">003</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.085 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">004</span> Generating genesis block
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.085 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputBlock -&gt; INFO <span class="m">005</span> Writing genesis block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">### Generating channel configuration transaction &#39;channel.tx&#39; ###</span>
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID mychannel
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.094 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.099 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputChannelCreateTx -&gt; INFO <span class="m">002</span> Generating new channel configtx
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.099 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">003</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.100 CST <span class="o">[</span>msp<span class="o">]</span> getMspConfig -&gt; INFO <span class="m">004</span> Loading NodeOUs
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.114 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputChannelCreateTx -&gt; INFO <span class="m">005</span> Writing new channel tx
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######    Generating anchor peer update for Org1MSP   ##########</span>
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID mychannel -asOrg Org1MSP
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.122 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.127 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">002</span> Generating anchor peer update
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.128 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">003</span> Writing anchor peer update
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl"><span class="c1">#######    Generating anchor peer update for Org2MSP   ##########</span>
</span></span><span class="line"><span class="cl"><span class="c1">#################################################################</span>
</span></span><span class="line"><span class="cl">+ configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID mychannel -asOrg Org2MSP
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.136 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> main -&gt; INFO <span class="m">001</span> Loading configuration
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.141 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">002</span> Generating anchor peer update
</span></span><span class="line"><span class="cl">2022-06-01 21:48:44.141 CST <span class="o">[</span>common/tools/configtxgen<span class="o">]</span> doOutputAnchorPeersUpdate -&gt; INFO <span class="m">003</span> Writing anchor peer update
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Creating network <span class="s2">&#34;net_byfn&#34;</span> with the default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_orderer.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer0.org1.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer1.org1.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer0.org2.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating volume <span class="s2">&#34;net_peer1.org2.example.com&#34;</span> with default driver
</span></span><span class="line"><span class="cl">Creating couchdb0            ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating couchdb1               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating couchdb2               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating couchdb3               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer1.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating peer1.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Creating cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> ____    _____      _      ____    _____ 
</span></span><span class="line"><span class="cl">/ ___<span class="p">|</span>  <span class="p">|</span>_   _<span class="p">|</span>    / <span class="se">\ </span>   <span class="p">|</span>  _ <span class="se">\ </span> <span class="p">|</span>_   _<span class="p">|</span>
</span></span><span class="line"><span class="cl"><span class="se">\_</span>__ <span class="se">\ </span>   <span class="p">|</span> <span class="p">|</span>     / _ <span class="se">\ </span>  <span class="p">|</span> <span class="p">|</span>_<span class="o">)</span> <span class="p">|</span>   <span class="p">|</span> <span class="p">|</span>  
</span></span><span class="line"><span class="cl"> ___<span class="o">)</span> <span class="p">|</span>   <span class="p">|</span> <span class="p">|</span>    / ___ <span class="se">\ </span> <span class="p">|</span>  _ &lt;    <span class="p">|</span> <span class="p">|</span>  
</span></span><span class="line"><span class="cl"><span class="p">|</span>____/    <span class="p">|</span>_<span class="p">|</span>   /_/   <span class="se">\_\ </span><span class="p">|</span>_<span class="p">|</span> <span class="se">\_\ </span>  <span class="p">|</span>_<span class="p">|</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Build your first network <span class="o">(</span>BYFN<span class="o">)</span> end-to-end <span class="nb">test</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Channel name : mychannel
</span></span><span class="line"><span class="cl">Creating channel...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:48:47.049 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:48:47.075 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">002</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:48:47.277 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Channel <span class="s2">&#34;mychannel&#34;</span> is created <span class="nv">successfully</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Having all peers join the channel...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">Error: Error getting endorser client channel: endorser client failed to connect to peer0.org1.example.com:7051: failed to create new connection: context deadline exceeded
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  peer channel join <span class="o">[</span>flags<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -b, --blockpath string   Path to file containing genesis block
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Global Flags:
</span></span><span class="line"><span class="cl">      --cafile string                       Path to file containing PEM-encoded trusted certificate<span class="o">(</span>s<span class="o">)</span> <span class="k">for</span> the ordering endpoint
</span></span><span class="line"><span class="cl">      --certfile string                     Path to file containing PEM-encoded X509 public key to use <span class="k">for</span> mutual TLS communication with the orderer endpoint
</span></span><span class="line"><span class="cl">      --clientauth                          Use mutual TLS when communicating with the orderer endpoint
</span></span><span class="line"><span class="cl">      --keyfile string                      Path to file containing PEM-encoded private key to use <span class="k">for</span> mutual TLS communication with the orderer endpoint
</span></span><span class="line"><span class="cl">      --logging-level string                Default logging level and overrides, see core.yaml <span class="k">for</span> full syntax
</span></span><span class="line"><span class="cl">  -o, --orderer string                      Ordering service endpoint
</span></span><span class="line"><span class="cl">      --ordererTLSHostnameOverride string   The hostname override to use when validating the TLS connection to the orderer.
</span></span><span class="line"><span class="cl">      --tls                                 Use TLS when communicating with the orderer endpoint
</span></span><span class="line"><span class="cl">  -v, --version                             Display current version of fabric peer server
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">peer0.org1 failed to join the channel, Retry after <span class="m">3</span> seconds
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:48:53.424 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:48:53.481 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-06-01 13:48:53.481 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer0.org1 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:48:56.561 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:48:56.621 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-06-01 13:48:56.621 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer1.org1 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:48:59.708 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:48:59.781 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-06-01 13:48:59.781 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer0.org2 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:02.854 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:49:02.921 UTC <span class="o">[</span>channelCmd<span class="o">]</span> executeJoin -&gt; INFO <span class="m">002</span> Successfully submitted proposal to join channel
</span></span><span class="line"><span class="cl">2022-06-01 13:49:02.921 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> peer1.org2 joined on the channel <span class="s2">&#34;mychannel&#34;</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Updating anchor peers <span class="k">for</span> org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel update -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/Org1MSPanchors.tx --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:06.008 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:49:06.015 UTC <span class="o">[</span>channelCmd<span class="o">]</span> update -&gt; INFO <span class="m">002</span> Successfully submitted channel update
</span></span><span class="line"><span class="cl">2022-06-01 13:49:06.015 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Anchor peers <span class="k">for</span> org <span class="s2">&#34;Org1MSP&#34;</span> on <span class="s2">&#34;mychannel&#34;</span> is updated <span class="nv">successfully</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Updating anchor peers <span class="k">for</span> org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel update -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/Org2MSPanchors.tx --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:09.100 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">2022-06-01 13:49:09.107 UTC <span class="o">[</span>channelCmd<span class="o">]</span> update -&gt; INFO <span class="m">002</span> Successfully submitted channel update
</span></span><span class="line"><span class="cl">2022-06-01 13:49:09.107 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Anchor peers <span class="k">for</span> org <span class="s2">&#34;Org2MSP&#34;</span> on <span class="s2">&#34;mychannel&#34;</span> is updated <span class="nv">successfully</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Installing chaincode on peer0.org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_example02/go/
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:12.186 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:12.186 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:12.820 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode is installed on peer0.org1 <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Install chaincode on peer0.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_example02/go/
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:12.896 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:12.896 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:13.009 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode is installed on peer0.org2 <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Instantiating chaincode on peer0.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode instantiate -o orderer.example.com:7050 --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc -l golang -v 1.0 -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;init&#34;,&#34;a&#34;,&#34;100&#34;,&#34;b&#34;,&#34;200&#34;]}&#39;</span> -P <span class="s1">&#39;OR	(&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;Org1MSP.peer&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;,&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;Org2MSP.peer&#39;</span><span class="se">\&#39;</span><span class="s1">&#39;)&#39;</span>
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:13.040 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:13.040 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:30.209 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode Instantiation on peer0.org2 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Querying chaincode on peer0.org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Querying on peer0.org1 on channel <span class="s1">&#39;mychannel&#39;</span>... <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">+ peer chaincode query -C mychannel -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">Attempting to Query peer0.org1 ...3 secs
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2022-06-01 13:49:33.290 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:33.290 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="m">100</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.519 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Query on peer0.org1 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">Sending invoke transaction on peer0.org1...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode invoke -o orderer.example.com:7050 --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C mychannel -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;invoke&#34;,&#34;a&#34;,&#34;b&#34;,&#34;10&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.552 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.552 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.559 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.559 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Invoke transaction on peer0.org1 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Installing chaincode on peer1.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org2.example.com:7051
</span></span><span class="line"><span class="cl">+ peer chaincode install -n mycc -v 1.0 -l golang -p github.com/chaincode/chaincode_example02/go/
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.586 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.586 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:39.684 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Chaincode is installed on peer1.org2 <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Querying chaincode on peer1.org2...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org2MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/users/Admin@org2.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer1.org2.example.com:7051
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Querying on peer1.org2 on channel <span class="s1">&#39;mychannel&#39;</span>... <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">+ peer chaincode query -C mychannel -n mycc -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;query&#34;,&#34;a&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">Attempting to Query peer1.org2 ...3 secs
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2022-06-01 13:49:42.759 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:49:42.760 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="m">90</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:49:48.884 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl"><span class="o">=====================</span> Query on peer1.org2 on channel <span class="s1">&#39;mychannel&#39;</span> is <span class="nv">successful</span> <span class="o">=====================</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">=========</span> All GOOD, BYFN execution <span class="nv">completed</span> <span class="o">===========</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> _____   _   _   ____   
</span></span><span class="line"><span class="cl"><span class="p">|</span> ____<span class="p">|</span> <span class="p">|</span> <span class="se">\ </span><span class="p">|</span> <span class="p">|</span> <span class="p">|</span>  _ <span class="se">\ </span> 
</span></span><span class="line"><span class="cl"><span class="p">|</span>  _<span class="p">|</span>   <span class="p">|</span>  <span class="se">\|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span> 
</span></span><span class="line"><span class="cl"><span class="p">|</span> <span class="p">|</span>___  <span class="p">|</span> <span class="p">|</span><span class="se">\ </span> <span class="p">|</span> <span class="p">|</span> <span class="p">|</span>_<span class="p">|</span> <span class="p">|</span> 
</span></span><span class="line"><span class="cl"><span class="p">|</span>_____<span class="p">|</span> <span class="p">|</span>_<span class="p">|</span> <span class="se">\_</span><span class="p">|</span> <span class="p">|</span>____/  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker ps -a
</span></span><span class="line"><span class="cl">CONTAINER ID   IMAGE                                                                                                  COMMAND                  CREATED              STATUS              PORTS                                                                                      NAMES
</span></span><span class="line"><span class="cl">093463781acb   dev-peer1.org2.example.com-mycc-1.0-26c2ef32838554aac4f7ad6f100aca865e87959c9a126e86d764c8d01f8346ab   <span class="s2">&#34;chaincode -peer.add…&#34;</span>   About a minute ago   Up About a minute                                                                                              dev-peer1.org2.example.com-mycc-1.0
</span></span><span class="line"><span class="cl">0ac07673c5fa   dev-peer0.org1.example.com-mycc-1.0-384f11f484b9302df90b453200cfb25174305fce8f53f4e94d45ee3b6cab0ce9   <span class="s2">&#34;chaincode -peer.add…&#34;</span>   <span class="m">2</span> minutes ago        Up <span class="m">2</span> minutes                                                                                                   dev-peer0.org1.example.com-mycc-1.0
</span></span><span class="line"><span class="cl">027261fec09c   dev-peer0.org2.example.com-mycc-1.0-15b571b3ce849066b7ec74497da3b27e54e0df1345daff3951b94245ce09c42b   <span class="s2">&#34;chaincode -peer.add…&#34;</span>   <span class="m">2</span> minutes ago        Up <span class="m">2</span> minutes                                                                                                   dev-peer0.org2.example.com-mycc-1.0
</span></span><span class="line"><span class="cl">858ae5ce97d3   hyperledger/fabric-tools:latest                                                                        <span class="s2">&#34;/bin/bash&#34;</span>              <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes                                                                                                   cli
</span></span><span class="line"><span class="cl">76db0aba1460   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        0.0.0.0:8051-&gt;7051/tcp, :::8051-&gt;7051/tcp, 0.0.0.0:8053-&gt;7053/tcp, :::8053-&gt;7053/tcp       peer1.org1.example.com
</span></span><span class="line"><span class="cl">b2e57f0d3a01   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        0.0.0.0:10051-&gt;7051/tcp, :::10051-&gt;7051/tcp, 0.0.0.0:10053-&gt;7053/tcp, :::10053-&gt;7053/tcp   peer1.org2.example.com
</span></span><span class="line"><span class="cl">33f2fc56b421   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        0.0.0.0:9051-&gt;7051/tcp, :::9051-&gt;7051/tcp, 0.0.0.0:9053-&gt;7053/tcp, :::9053-&gt;7053/tcp       peer0.org2.example.com
</span></span><span class="line"><span class="cl">dc2e90171d70   hyperledger/fabric-peer:latest                                                                         <span class="s2">&#34;peer node start&#34;</span>        <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        0.0.0.0:7051-&gt;7051/tcp, :::7051-&gt;7051/tcp, 0.0.0.0:7053-&gt;7053/tcp, :::7053-&gt;7053/tcp       peer0.org1.example.com
</span></span><span class="line"><span class="cl">cd32735456c2   hyperledger/fabric-couchdb                                                                             <span class="s2">&#34;tini -- /docker-ent…&#34;</span>   <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        4369/tcp, 9100/tcp, 0.0.0.0:7984-&gt;5984/tcp, :::7984-&gt;5984/tcp                              couchdb2
</span></span><span class="line"><span class="cl">019b1a555797   hyperledger/fabric-couchdb                                                                             <span class="s2">&#34;tini -- /docker-ent…&#34;</span>   <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        4369/tcp, 9100/tcp, 0.0.0.0:8984-&gt;5984/tcp, :::8984-&gt;5984/tcp                              couchdb3
</span></span><span class="line"><span class="cl">f633a407249b   hyperledger/fabric-couchdb                                                                             <span class="s2">&#34;tini -- /docker-ent…&#34;</span>   <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        4369/tcp, 9100/tcp, 0.0.0.0:6984-&gt;5984/tcp, :::6984-&gt;5984/tcp                              couchdb1
</span></span><span class="line"><span class="cl">80e070cb6629   hyperledger/fabric-orderer:latest                                                                      <span class="s2">&#34;orderer&#34;</span>                <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        0.0.0.0:7050-&gt;7050/tcp, :::7050-&gt;7050/tcp                                                  orderer.example.com
</span></span><span class="line"><span class="cl">571d814b10bd   hyperledger/fabric-couchdb                                                                             <span class="s2">&#34;tini -- /docker-ent…&#34;</span>   <span class="m">3</span> minutes ago        Up <span class="m">3</span> minutes        4369/tcp, 9100/tcp, 0.0.0.0:5984-&gt;5984/tcp, :::5984-&gt;5984/tcp                              couchdb0
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker logs 093463781acb
</span></span><span class="line"><span class="cl">ex02 Invoke
</span></span><span class="line"><span class="cl">Query Response:<span class="o">{</span><span class="s2">&#34;Name&#34;</span>:<span class="s2">&#34;a&#34;</span>,<span class="s2">&#34;Amount&#34;</span>:<span class="s2">&#34;90&#34;</span><span class="o">}</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker logs 0ac07673c5fa
</span></span><span class="line"><span class="cl">ex02 Invoke
</span></span><span class="line"><span class="cl">Query Response:<span class="o">{</span><span class="s2">&#34;Name&#34;</span>:<span class="s2">&#34;a&#34;</span>,<span class="s2">&#34;Amount&#34;</span>:<span class="s2">&#34;100&#34;</span><span class="o">}</span>
</span></span><span class="line"><span class="cl">ex02 Invoke
</span></span><span class="line"><span class="cl"><span class="nv">Aval</span> <span class="o">=</span> 90, <span class="nv">Bval</span> <span class="o">=</span> <span class="m">210</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker logs 027261fec09c
</span></span><span class="line"><span class="cl">ex02 Init
</span></span><span class="line"><span class="cl"><span class="nv">Aval</span> <span class="o">=</span> 100, <span class="nv">Bval</span> <span class="o">=</span> <span class="m">200</span>
</span></span></code></pre></div><h6 id="此时链接httplocalhost5984_utilshttplocalhost5984_utils-可查看couchdb中的数据">此时链接：<a href="http://localhost:5984/_utils/" target="_blank" rel="noopener">http://localhost:5984/_utils/</a> 可查看couchdb中的数据</h6>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/4cf14b666ff716980fea62dec7da3a06.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<h5 id="462-手动添加智能合约">4.6.2 手动添加智能合约</h5>
<ol>
<li>在cli容器中先完成对通道name的声明</li>
<li>安装go编写的合约：marbles，并完成初始化</li>
<li>调用合约完成：a.初始化弹珠1(marble1)，蓝色，35，所有者为tom；b.初始化弹珠2，红色，50，所有者为tom；c.初始化弹珠3，蓝色，70，所有者为tom；d.设置弹珠2的所有者为jerry；e.设置弹珠2的颜色为蓝色；f.删除弹珠1</li>
<li>cli容器中查询弹珠2：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Query Result: <span class="o">{</span><span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;red&#34;</span>,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble2&#34;</span>,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span>,<span class="s2">&#34;size&#34;</span>:50<span class="o">}</span>
</span></span></code></pre></div><ol start="5">
<li>确定弹珠1的更改历史：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Query Result: <span class="o">[{</span><span class="s2">&#34;TxId&#34;</span>:<span class="s2">&#34;72344571444c9b2658468f7ef432e67f9fc7a2c168ee9105b3d181305efcd7fe&#34;</span>, <span class="s2">&#34;Value&#34;</span>:<span class="o">{</span><span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble1&#34;</span>,<span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;blue&#34;</span>,<span class="s2">&#34;size&#34;</span>:35,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;tom&#34;</span><span class="o">}</span>, <span class="s2">&#34;Timestamp&#34;</span>:<span class="s2">&#34;2022-06-01 14:18:43.249592072 +0000 UTC&#34;</span>, <span class="s2">&#34;IsDelete&#34;</span>:<span class="s2">&#34;false&#34;</span><span class="o">}</span>,<span class="o">{</span><span class="s2">&#34;TxId&#34;</span>:<span class="s2">&#34;cc14f1abd8cc808dd751963ddd48cf95f86bccdeedea6de29df54fa1d99dd00f&#34;</span>, <span class="s2">&#34;Value&#34;</span>:<span class="o">{</span><span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble1&#34;</span>,<span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;blue&#34;</span>,<span class="s2">&#34;size&#34;</span>:35,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span><span class="o">}</span>, <span class="s2">&#34;Timestamp&#34;</span>:<span class="s2">&#34;2022-06-01 14:19:26.884524233 +0000 UTC&#34;</span>, <span class="s2">&#34;IsDelete&#34;</span>:<span class="s2">&#34;false&#34;</span><span class="o">}</span>,<span class="o">{</span><span class="s2">&#34;TxId&#34;</span>:<span class="s2">&#34;dd7d45471c8f1af6902e820e8f95dff1fcdf5f66ba757f8e6d3552e703f165f1&#34;</span>, <span class="s2">&#34;Value&#34;</span>:null, <span class="s2">&#34;Timestamp&#34;</span>:<span class="s2">&#34;2022-06-01 14:19:37.506046767 +0000 UTC&#34;</span>, <span class="s2">&#34;IsDelete&#34;</span>:<span class="s2">&#34;true&#34;</span><span class="o">}]</span>
</span></span></code></pre></div><ol start="6">
<li>查询jerry拥有的弹珠：</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Query Result: <span class="o">[{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;marble2&#34;</span>, <span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;red&#34;</span>,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble2&#34;</span>,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span>,<span class="s2">&#34;size&#34;</span>:50<span class="o">}}</span>,<span class="o">{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;marble3&#34;</span>, <span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;blue&#34;</span>,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble3&#34;</span>,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span>,<span class="s2">&#34;size&#34;</span>:70<span class="o">}}]</span>
</span></span></code></pre></div><blockquote>
<p>先进行变量声明</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">../bin/cryptogen generate --config<span class="o">=</span>./crypto-config.yaml
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">FABRIC_CFG_PATH</span><span class="o">=</span><span class="nv">$PWD</span>
</span></span><span class="line"><span class="cl">../bin/configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CHANNEL_NAME</span><span class="o">=</span>mychannel  <span class="o">&amp;&amp;</span> ../bin/configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID <span class="nv">$CHANNEL_NAME</span>
</span></span><span class="line"><span class="cl">../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID <span class="nv">$CHANNEL_NAME</span> -asOrg Org1MSP
</span></span><span class="line"><span class="cl">../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID <span class="nv">$CHANNEL_NAME</span> -asOrg Org2MSP
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span><span class="s2">&#34;Org1MSP&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">CHANNEL_NAME</span><span class="o">=</span>mychannel
</span></span></code></pre></div><blockquote>
<p>开始进入容器调用合约</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">docker <span class="nb">exec</span> -it cli bash
</span></span><span class="line"><span class="cl">peer chaincode install -n marbles -v 1.0 -p github.com/chaincode/marbles02/go
</span></span><span class="line"><span class="cl">peer chaincode instantiate -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -v 1.0 -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;init&#34;]}&#39;</span> -P <span class="s2">&#34;OR (&#39;Org0MSP.peer&#39;,&#39;Org1MSP.peer&#39;)&#34;</span>
</span></span><span class="line"><span class="cl">peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;initMarble&#34;,&#34;marble1&#34;,&#34;blue&#34;,&#34;35&#34;,&#34;tom&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;initMarble&#34;,&#34;marble2&#34;,&#34;red&#34;,&#34;50&#34;,&#34;tom&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;initMarble&#34;,&#34;marble3&#34;,&#34;blue&#34;,&#34;70&#34;,&#34;tom&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;transferMarble&#34;,&#34;marble2&#34;,&#34;jerry&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;transferMarblesBasedOnColor&#34;,&#34;blue&#34;,&#34;jerry&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;delete&#34;,&#34;marble1&#34;]}&#39;</span>
</span></span></code></pre></div><blockquote>
<p>验证合约调用结果</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;readMarble&#34;,&#34;marble2&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;getHistoryForMarble&#34;,&#34;marble1&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;queryMarblesByOwner&#34;,&#34;jerry&#34;]}&#39;</span>
</span></span></code></pre></div><p>具体运行过程如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker <span class="nb">exec</span> -it cli bash
</span></span><span class="line"><span class="cl">root@858ae5ce97d3:/opt/gopath/src/github.com/hyperledger/fabric/peer# <span class="nb">export</span> <span class="nv">CHANNEL_NAME</span><span class="o">=</span>mychannel
</span></span><span class="line"><span class="cl">root@858ae5ce97d3:/opt/gopath/src/github.com/hyperledger/fabric/peer# <span class="nb">echo</span> <span class="nv">$CHANNEL_NAME</span>
</span></span><span class="line"><span class="cl">mychannel
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
</span></span><span class="line"><span class="cl">2022-06-01 14:17:45.692 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">Channels peers has joined: 
</span></span><span class="line"><span class="cl">mychannel
</span></span><span class="line"><span class="cl">2022-06-01 14:17:45.694 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">002</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode install -n marbles -v 1.0 -p github.com/chaincode/marbles02/go
</span></span><span class="line"><span class="cl">2022-06-01 14:18:19.261 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:19.261 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:19.368 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode instantiate -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -v 1.0 -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;init&#34;]}&#39;</span> -P <span class="s2">&#34;OR (&#39;Org0MSP.peer&#39;,&#39;Org1MSP.peer&#39;)&#34;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:18:28.818 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:28.818 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:35.091 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;initMarble&#34;,&#34;marble1&#34;,&#34;blue&#34;,&#34;35&#34;,&#34;tom&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:18:43.249 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:43.249 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:43.255 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-06-01 14:18:43.255 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;initMarble&#34;,&#34;marble2&#34;,&#34;red&#34;,&#34;50&#34;,&#34;tom&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:18:52.975 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:52.975 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:18:52.981 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-06-01 14:18:52.981 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;initMarble&#34;,&#34;marble3&#34;,&#34;blue&#34;,&#34;70&#34;,&#34;tom&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:01.834 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:01.834 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:01.843 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-06-01 14:19:01.843 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;transferMarble&#34;,&#34;marble2&#34;,&#34;jerry&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:12.121 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:12.121 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:12.131 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-06-01 14:19:12.131 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;transferMarblesBasedOnColor&#34;,&#34;blue&#34;,&#34;jerry&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:26.884 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:26.884 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:26.901 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 payload:<span class="s2">&#34;Transferred 2 blue marbles to jerry&#34;</span> 
</span></span><span class="line"><span class="cl">2022-06-01 14:19:26.901 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;delete&#34;,&#34;marble1&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:37.505 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:37.505 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:37.512 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> chaincodeInvokeOrQuery -&gt; INFO <span class="m">003</span> Chaincode invoke successful. result: status:200 
</span></span><span class="line"><span class="cl">2022-06-01 14:19:37.513 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">004</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;readMarble&#34;,&#34;marble2&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:46.002 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:46.002 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="o">{</span><span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;red&#34;</span>,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble2&#34;</span>,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span>,<span class="s2">&#34;size&#34;</span>:50<span class="o">}</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:46.008 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;getHistoryForMarble&#34;,&#34;marble1&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:55.068 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:19:55.068 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="o">[{</span><span class="s2">&#34;TxId&#34;</span>:<span class="s2">&#34;72344571444c9b2658468f7ef432e67f9fc7a2c168ee9105b3d181305efcd7fe&#34;</span>, <span class="s2">&#34;Value&#34;</span>:<span class="o">{</span><span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble1&#34;</span>,<span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;blue&#34;</span>,<span class="s2">&#34;size&#34;</span>:35,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;tom&#34;</span><span class="o">}</span>, <span class="s2">&#34;Timestamp&#34;</span>:<span class="s2">&#34;2022-06-01 14:18:43.249592072 +0000 UTC&#34;</span>, <span class="s2">&#34;IsDelete&#34;</span>:<span class="s2">&#34;false&#34;</span><span class="o">}</span>,<span class="o">{</span><span class="s2">&#34;TxId&#34;</span>:<span class="s2">&#34;cc14f1abd8cc808dd751963ddd48cf95f86bccdeedea6de29df54fa1d99dd00f&#34;</span>, <span class="s2">&#34;Value&#34;</span>:<span class="o">{</span><span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble1&#34;</span>,<span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;blue&#34;</span>,<span class="s2">&#34;size&#34;</span>:35,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span><span class="o">}</span>, <span class="s2">&#34;Timestamp&#34;</span>:<span class="s2">&#34;2022-06-01 14:19:26.884524233 +0000 UTC&#34;</span>, <span class="s2">&#34;IsDelete&#34;</span>:<span class="s2">&#34;false&#34;</span><span class="o">}</span>,<span class="o">{</span><span class="s2">&#34;TxId&#34;</span>:<span class="s2">&#34;dd7d45471c8f1af6902e820e8f95dff1fcdf5f66ba757f8e6d3552e703f165f1&#34;</span>, <span class="s2">&#34;Value&#34;</span>:null, <span class="s2">&#34;Timestamp&#34;</span>:<span class="s2">&#34;2022-06-01 14:19:37.506046767 +0000 UTC&#34;</span>, <span class="s2">&#34;IsDelete&#34;</span>:<span class="s2">&#34;true&#34;</span><span class="o">}]</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:19:55.073 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode query -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;queryMarblesByOwner&#34;,&#34;jerry&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:20:19.711 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 14:20:19.711 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Query Result: <span class="o">[{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;marble2&#34;</span>, <span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;red&#34;</span>,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble2&#34;</span>,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span>,<span class="s2">&#34;size&#34;</span>:50<span class="o">}}</span>,<span class="o">{</span><span class="s2">&#34;Key&#34;</span>:<span class="s2">&#34;marble3&#34;</span>, <span class="s2">&#34;Record&#34;</span>:<span class="o">{</span><span class="s2">&#34;color&#34;</span>:<span class="s2">&#34;blue&#34;</span>,<span class="s2">&#34;docType&#34;</span>:<span class="s2">&#34;marble&#34;</span>,<span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;marble3&#34;</span>,<span class="s2">&#34;owner&#34;</span>:<span class="s2">&#34;jerry&#34;</span>,<span class="s2">&#34;size&#34;</span>:70<span class="o">}}]</span>
</span></span><span class="line"><span class="cl">2022-06-01 14:20:19.731 UTC <span class="o">[</span>main<span class="o">]</span> main -&gt; INFO <span class="m">003</span> Exiting.....
</span></span></code></pre></div><h4 id="47-fabric-110-关闭网络">4.7 fabric-1.1.0 关闭网络</h4>
<p>需要注意是不是在容器内，在容器中需要先退出exit再关闭网络即可</p>
<blockquote>
<p>./byfn.sh down</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@7c90277eb950:/opt/gopath/src/github.com/hyperledger/fabric/peer# <span class="nb">exit</span>
</span></span><span class="line"><span class="cl"><span class="nb">exit</span>
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# ./byfn.sh down
</span></span><span class="line"><span class="cl">Stopping with channel <span class="s1">&#39;mychannel&#39;</span> and CLI timeout of <span class="s1">&#39;10&#39;</span> seconds and CLI delay of <span class="s1">&#39;3&#39;</span> seconds
</span></span><span class="line"><span class="cl">Continue? <span class="o">[</span>Y/n<span class="o">]</span> y
</span></span><span class="line"><span class="cl">proceeding ...
</span></span><span class="line"><span class="cl">Stopping cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer1.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer1.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping couchdb1               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping couchdb0               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping couchdb3               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Stopping couchdb2               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing cli                    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer0.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer1.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer1.org1.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing peer0.org2.example.com ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing orderer.example.com    ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing couchdb1               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing couchdb0               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing couchdb3               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing couchdb2               ... <span class="k">done</span>
</span></span><span class="line"><span class="cl">Removing network net_byfn
</span></span><span class="line"><span class="cl">Removing volume net_orderer.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org1.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org1.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org2.example.com
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org2.example.com
</span></span><span class="line"><span class="cl">Removing network net_byfn
</span></span><span class="line"><span class="cl">WARNING: Network net_byfn not found.
</span></span><span class="line"><span class="cl">Removing volume net_orderer.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_orderer.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org1.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer0.org1.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org1.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer1.org1.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer0.org2.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer0.org2.example.com not found.
</span></span><span class="line"><span class="cl">Removing volume net_peer1.org2.example.com
</span></span><span class="line"><span class="cl">WARNING: Volume net_peer1.org2.example.com not found.
</span></span><span class="line"><span class="cl">b166392a8a1c
</span></span><span class="line"><span class="cl">14ca19a577ff
</span></span><span class="line"><span class="cl">2f01f5295820
</span></span><span class="line"><span class="cl">4e6ed6dde495
</span></span><span class="line"><span class="cl">Untagged: dev-peer0.org1.example.com-marbles-1.0-f57d84df5eaddfab2c22f5896ebc44f52af3829d7f9d8a271b41651a0d4cb353:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:d71dd91274efe31740f8fdee93c316c202216a78b03f026537b25ace24e0af2c
</span></span><span class="line"><span class="cl">Deleted: sha256:ad7cdaec943cd0bde626809ee8f4fefb17e60472569fcf3fd0d633a5c82a2495
</span></span><span class="line"><span class="cl">Deleted: sha256:a61393a5f4ecb0533d5ab2c72c2c2970db9ee428f2e56e80b66ba9a05761a020
</span></span><span class="line"><span class="cl">Deleted: sha256:7dcf6c97a76d70393d5f3ea947b5b5e056e19a7b0b0fe18d879c3c4c3587918d
</span></span><span class="line"><span class="cl">Untagged: dev-peer1.org2.example.com-mycc-1.0-26c2ef32838554aac4f7ad6f100aca865e87959c9a126e86d764c8d01f8346ab:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:f0086f16fdc1c37c5c315e9c2b13c834b1b9843f1a5ece4e0e3527c99d2f4d98
</span></span><span class="line"><span class="cl">Deleted: sha256:7659ec3feec4af2ff128790abb592cbefab005ebf67a071683eaab78c43836ae
</span></span><span class="line"><span class="cl">Deleted: sha256:d530980a6d79098b6fe37c934ea9a690b91a12e51165f48286419450d3334b7b
</span></span><span class="line"><span class="cl">Deleted: sha256:483bdd45c706d5d5a83dbd0337cb3c173fc6bf79de33687dd5e56d58a4245f09
</span></span><span class="line"><span class="cl">Untagged: dev-peer0.org1.example.com-mycc-1.0-384f11f484b9302df90b453200cfb25174305fce8f53f4e94d45ee3b6cab0ce9:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:b4de3bdc8be762980e60cdb6e77b300ad700960f4fbc31fdc1005bb2b920a1eb
</span></span><span class="line"><span class="cl">Deleted: sha256:c4ec6875a6af954b3d9a86325faf526ccbbd67d6422d2662a02184099122baf0
</span></span><span class="line"><span class="cl">Deleted: sha256:35aaa5491bd321f8391144ce9dc1732af506cddf1f1392dd17b8c90c508f980c
</span></span><span class="line"><span class="cl">Deleted: sha256:7aef81669472f350d49d0278a5728faebda9a0a51b871055f2eee87b3b8740b0
</span></span><span class="line"><span class="cl">Untagged: dev-peer0.org2.example.com-mycc-1.0-15b571b3ce849066b7ec74497da3b27e54e0df1345daff3951b94245ce09c42b:latest
</span></span><span class="line"><span class="cl">Deleted: sha256:621734fe96ea4675f7d64a26c7cfbbd6a275c3cc25ed3fc9866ac6bfca039ba3
</span></span><span class="line"><span class="cl">Deleted: sha256:2f380b23e4c66bae159d2c662cd194645f9d965cdcfc185e622a9c8fde4d0331
</span></span><span class="line"><span class="cl">Deleted: sha256:c114b9d78c7d4d30f6e36f45e5c7bc48f4c5ba2ecae87e3864ae46b5f7f2b10b
</span></span><span class="line"><span class="cl">Deleted: sha256:655bdfb0eda16b7437dac802e0dd781760f3b5b4795f7268a7f5fffb138f5c08
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# docker ps -a
</span></span><span class="line"><span class="cl">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
</span></span></code></pre></div><h2 id="疑难解惑">疑难解惑</h2>
<h3 id="1-项目切版本报错">1. 项目切版本报错：</h3>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/01db1ce0b9211001f414e54cc20b3c4c.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<blockquote>
<p>git checkout release-2.2</p>
<blockquote>
<p>error: 您对下列文件的本地修改将被检出操作覆盖：
解决思路：<a href="https://blog.csdn.net/lakersssss24/article/details/119615476" target="_blank" rel="noopener">https://blog.csdn.net/lakersssss24/article/details/119615476</a>
git stash
git checkout release-2.2















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/f3eb2b2ec807f41d23d92d97f5b9d32b.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
</blockquote>
</blockquote>
<h3 id="2-启动网络报docker-compose未找到命令">2. 启动网络报docker-compose未找到命令</h3>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/1fbc92d3ca016d8a88ad4d5c7e80074b.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<blockquote>
<p>./network.sh up -i 2.2.5</p>
<blockquote>
<p>./network.sh: 行 280: docker-compose：未找到命令
解决思路：安装完即可
apt-get install docker-compose</p>
</blockquote>
</blockquote>
<h3 id="3-110版本启动网络报-sigsegv-错误">3. 1.1.0版本启动网络报 SIGSEGV 错误</h3>
<blockquote>
<p>./byfn.sh -m up</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">+ peer channel create -o orderer.example.com:7050 -c mychannel -f ./channel-artifacts/channel.tx --tls <span class="nb">true</span> --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">2</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 12:51:50.026 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">fatal error: unexpected signal during runtime execution
</span></span><span class="line"><span class="cl"><span class="o">[</span>signal SIGSEGV: segmentation violation <span class="nv">code</span><span class="o">=</span>0x1 <span class="nv">addr</span><span class="o">=</span>0x63 <span class="nv">pc</span><span class="o">=</span>0x7f5ab6377259<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">runtime stack:
</span></span><span class="line"><span class="cl">runtime.throw<span class="o">(</span>0xf11259, 0x2a<span class="o">)</span>
</span></span><span class="line"><span class="cl">	/opt/go/src/runtime/panic.go:605 +0x95
</span></span><span class="line"><span class="cl">runtime.sigpanic<span class="o">()</span>
</span></span><span class="line"><span class="cl">	/opt/go/src/runtime/signal_unix.go:351 +0x2b8
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">goroutine <span class="m">34</span> <span class="o">[</span>syscall, locked to thread<span class="o">]</span>:
</span></span><span class="line"><span class="cl">runtime.cgocall<span class="o">(</span>0xbf3800, 0xc42002fde8, 0xf0fa21<span class="o">)</span>
</span></span><span class="line"><span class="cl">	/opt/go/src/runtime/cgocall.go:132 +0xe4 <span class="nv">fp</span><span class="o">=</span>0xc42002fda8 <span class="nv">sp</span><span class="o">=</span>0xc42002fd68 <span class="nv">pc</span><span class="o">=</span>0x4023b4
</span></span></code></pre></div><p>参考：<a href="https://developer.aliyun.com/article/238940" target="_blank" rel="noopener">阿里云环境部署Hyperledger Fabric之SIGSEGV问题分析和解决经验分享</a> 为当前目录下三个文件添加go声明：
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/a1467b5964bc9f4715890924393d7f54.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>

















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/0975e062eae12ac611e538ebeac3988c.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<blockquote>
<pre><code>  - GODEBUG=netdns=go
</code></pre>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# gedit /workspace/github.com/fabric/fabric-samples/first-network/docker-compose-cli.yaml
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# gedit base/docker-compose-base.yaml
</span></span><span class="line"><span class="cl">root@The-Land-Like-as-A-Picture:/workspace/github.com/fabric/fabric-samples/first-network# gedit base/peer-base.yaml
</span></span></code></pre></div><p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/78d345f62c56fb8f69ed8b35f6885f56.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>

















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/ac6229e87078b39777fece1f2e1ae9a4.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>

















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/3c8e8ea93ef8a517d619f149fb4b46ef.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>

结果一切正常：
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/8f652d854b2722336321ef197a9271ea.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/74f1787e34846685d2a8025a0cf48a77.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<h3 id="4-110-版本使用couchdb报error-proposal-failed-err-rpc-error-code--unavailable-desc--transport-is-closing错">4. 1.1.0 版本使用couchdb报Error: proposal failed (err: rpc error: code = Unavailable desc = transport is closing)错</h3>
<blockquote>
<p>./byfn.sh -m up -t 999999 -s couchdb
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/1306531916afbe447d2c0ed162a565ba.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
</blockquote>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Having all peers join the channel...
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ROOTCERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_KEY_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.key
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_LOCALMSPID</span><span class="o">=</span>Org1MSP
</span></span><span class="line"><span class="cl"><span class="nv">CORE_VM_ENDPOINT</span><span class="o">=</span>unix:///host/var/run/docker.sock
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_CERT_FILE</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/server.crt
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_TLS_ENABLED</span><span class="o">=</span><span class="nb">true</span>
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_MSPCONFIGPATH</span><span class="o">=</span>/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com/msp
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ID</span><span class="o">=</span>cli
</span></span><span class="line"><span class="cl"><span class="nv">CORE_LOGGING_LEVEL</span><span class="o">=</span>INFO
</span></span><span class="line"><span class="cl"><span class="nv">CORE_PEER_ADDRESS</span><span class="o">=</span>peer0.org1.example.com:7051
</span></span><span class="line"><span class="cl">+ peer channel join -b mychannel.block
</span></span><span class="line"><span class="cl">+ <span class="nv">res</span><span class="o">=</span><span class="m">1</span>
</span></span><span class="line"><span class="cl">+ <span class="nb">set</span> +x
</span></span><span class="line"><span class="cl">2022-05-31 15:11:27.837 UTC <span class="o">[</span>channelCmd<span class="o">]</span> InitCmdFactory -&gt; INFO <span class="m">001</span> Endorser and orderer connections initialized
</span></span><span class="line"><span class="cl">Error: proposal failed <span class="o">(</span>err: rpc error: <span class="nv">code</span> <span class="o">=</span> Unavailable <span class="nv">desc</span> <span class="o">=</span> transport is closing<span class="o">)</span>
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  peer channel join <span class="o">[</span>flags<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -b, --blockpath string   Path to file containing genesis block
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Global Flags:
</span></span><span class="line"><span class="cl">      --cafile string                       Path to file containing PEM-encoded trusted certificate<span class="o">(</span>s<span class="o">)</span> <span class="k">for</span> the ordering endpoint
</span></span><span class="line"><span class="cl">      --certfile string                     Path to file containing PEM-encoded X509 public key to use <span class="k">for</span> mutual TLS communication with the orderer endpoint
</span></span><span class="line"><span class="cl">      --clientauth                          Use mutual TLS when communicating with the orderer endpoint
</span></span><span class="line"><span class="cl">      --keyfile string                      Path to file containing PEM-encoded private key to use <span class="k">for</span> mutual TLS communication with the orderer endpoint
</span></span><span class="line"><span class="cl">      --logging-level string                Default logging level and overrides, see core.yaml <span class="k">for</span> full syntax
</span></span><span class="line"><span class="cl">  -o, --orderer string                      Ordering service endpoint
</span></span><span class="line"><span class="cl">      --ordererTLSHostnameOverride string   The hostname override to use when validating the TLS connection to the orderer.
</span></span><span class="line"><span class="cl">      --tls                                 Use TLS when communicating with the orderer endpoint
</span></span><span class="line"><span class="cl">  -v, --version                             Display current version of fabric peer server
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">peer0.org1 failed to join the channel, Retry after <span class="m">3</span> seconds
</span></span></code></pre></div><p>解决思路：
开始考虑是不是节点又没有启动，但是仔细一看：
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/949695f5e8cd3aa5fc4fe2fdce5fa798.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>

4个peer有3个都启动了，那就不是peer容器的问题，结合之前没有加couchdb可以正常加入通道，考虑couchdb的容器问题。</p>
<blockquote>
<p>docker tag 7e73c828fc5b hyperledger/fabric-couchdb:latest
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/64be5d75dde8702b06c1752a34830505.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/7d9692d1b95a7261a0ac1f1ef68ce693.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>

最后结果：正常加入不再报错
















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/9adbc26ca0ff12aaa70f08958cc043fb.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
</blockquote>
<h3 id="5-110-版本调用合约报error-endorsing-invoke错">5. 1.1.0 版本调用合约报Error endorsing invoke错</h3>
<blockquote>
<p>peer chaincode invoke -o orderer.example.com:7050 &ndash;tls &ndash;cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C $CHANNEL_NAME -n marbles -c &lsquo;{&ldquo;Args&rdquo;:[&ldquo;transferMarble&rdquo;,&ldquo;marble2&rdquo;,&ldquo;jerry&rdquo;]}&rsquo;</p>
</blockquote>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://i-blog.csdnimg.cn/blog_migrate/c41406f1a57ae292851c85fd00ee1056.png" alt="在这里插入图片描述" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">root@858ae5ce97d3:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode invoke -o orderer.example.com:7050 --tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem -C <span class="nv">$CHANNEL_NAME</span> -n marbles -c <span class="s1">&#39;{&#34;Args&#34;:[&#34;transferMarble&#34;,&#34;marble2&#34;,&#34;jerry&#34;]}&#39;</span>
</span></span><span class="line"><span class="cl">2022-06-01 13:58:51.556 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">001</span> Using default escc
</span></span><span class="line"><span class="cl">2022-06-01 13:58:51.556 UTC <span class="o">[</span>chaincodeCmd<span class="o">]</span> checkChaincodeCmdParams -&gt; INFO <span class="m">002</span> Using default vscc
</span></span><span class="line"><span class="cl">Error: Error endorsing invoke: rpc error: <span class="nv">code</span> <span class="o">=</span> Unknown <span class="nv">desc</span> <span class="o">=</span> chaincode error <span class="o">(</span>status: 500, message: Marble does not exist<span class="o">)</span> - &lt;nil&gt;
</span></span><span class="line"><span class="cl">Usage:
</span></span><span class="line"><span class="cl">  peer chaincode invoke <span class="o">[</span>flags<span class="o">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Flags:
</span></span><span class="line"><span class="cl">  -C, --channelID string   The channel on which this <span class="nb">command</span> should be executed
</span></span><span class="line"><span class="cl">  -c, --ctor string        Constructor message <span class="k">for</span> the chaincode in JSON format <span class="o">(</span>default <span class="s2">&#34;{}&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  -n, --name string        Name of the chaincode
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Global Flags:
</span></span><span class="line"><span class="cl">      --cafile string                       Path to file containing PEM-encoded trusted certificate<span class="o">(</span>s<span class="o">)</span> <span class="k">for</span> the ordering endpoint
</span></span><span class="line"><span class="cl">      --certfile string                     Path to file containing PEM-encoded X509 public key to use <span class="k">for</span> mutual TLS communication with the orderer endpoint
</span></span><span class="line"><span class="cl">      --clientauth                          Use mutual TLS when communicating with the orderer endpoint
</span></span><span class="line"><span class="cl">      --keyfile string                      Path to file containing PEM-encoded private key to use <span class="k">for</span> mutual TLS communication with the orderer endpoint
</span></span><span class="line"><span class="cl">      --logging-level string                Default logging level and overrides, see core.yaml <span class="k">for</span> full syntax
</span></span><span class="line"><span class="cl">  -o, --orderer string                      Ordering service endpoint
</span></span><span class="line"><span class="cl">      --ordererTLSHostnameOverride string   The hostname override to use when validating the TLS connection to the orderer.
</span></span><span class="line"><span class="cl">      --tls                                 Use TLS when communicating with the orderer endpoint
</span></span><span class="line"><span class="cl">      --transient string                    Transient map of arguments in JSON encoding
</span></span><span class="line"><span class="cl">  -v, --version                             Display current version of fabric peer server
</span></span></code></pre></div><p>原因：声明未添加，将3.8.4.1 fabric 1.1 初始声明、3.8.4.2 cli环境变量和通道进行声明即可</p>
<blockquote>
<p>../bin/cryptogen generate &ndash;config=./crypto-config.yaml
export FABRIC_CFG_PATH=$PWD
../bin/configtxgen -profile TwoOrgsOrdererGenesis -outputBlock ./channel-artifacts/genesis.block
export CHANNEL_NAME=mychannel  &amp;&amp; ../bin/configtxgen -profile TwoOrgsChannel -outputCreateChannelTx ./channel-artifacts/channel.tx -channelID $CHANNEL_NAME
../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org1MSPanchors.tx -channelID $CHANNEL_NAME -asOrg Org1MSP
../bin/configtxgen -profile TwoOrgsChannel -outputAnchorPeersUpdate ./channel-artifacts/Org2MSPanchors.tx -channelID $CHANNEL_NAME -asOrg Org2MSP</p>
<p>export <a href="mailto:CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com">CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/users/Admin@org1.example.com</a>/msp
export CORE_PEER_ADDRESS=peer0.org1.example.com:7051
export CORE_PEER_LOCALMSPID=&ldquo;Org1MSP&rdquo;
export CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt</p>
<p>export CHANNEL_NAME=mychannel</p>
</blockquote>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/zh/tag/fabric/">Fabric</a>
  
  <a class="badge badge-light" href="/zh/tag/deployment/">Deployment</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fjackaugust.github.io%2Fzh%2Fblogs%2F2022%2F0601%2F&amp;text=ubuntu&#43;20.04&#43;%E4%B8%8BFabric&#43;V2.2.0&#43;%E5%92%8C&#43;V1.1.0&#43;%E8%BF%90%E8%A1%8C%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fjackaugust.github.io%2Fzh%2Fblogs%2F2022%2F0601%2F&amp;t=ubuntu&#43;20.04&#43;%E4%B8%8BFabric&#43;V2.2.0&#43;%E5%92%8C&#43;V1.1.0&#43;%E8%BF%90%E8%A1%8C%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
        
      
      <li>
        <a href="mailto:?subject=ubuntu%2020.04%20%E4%B8%8BFabric%20V2.2.0%20%E5%92%8C%20V1.1.0%20%E8%BF%90%E8%A1%8C%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E&amp;body=https%3A%2F%2Fjackaugust.github.io%2Fzh%2Fblogs%2F2022%2F0601%2F" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fjackaugust.github.io%2Fzh%2Fblogs%2F2022%2F0601%2F&amp;title=ubuntu&#43;20.04&#43;%E4%B8%8BFabric&#43;V2.2.0&#43;%E5%92%8C&#43;V1.1.0&#43;%E8%BF%90%E8%A1%8C%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="whatsapp://send?text=ubuntu&#43;20.04&#43;%E4%B8%8BFabric&#43;V2.2.0&#43;%E5%92%8C&#43;V1.1.0&#43;%E8%BF%90%E8%A1%8C%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E%20https%3A%2F%2Fjackaugust.github.io%2Fzh%2Fblogs%2F2022%2F0601%2F" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https%3A%2F%2Fjackaugust.github.io%2Fzh%2Fblogs%2F2022%2F0601%2F&amp;title=ubuntu&#43;20.04&#43;%E4%B8%8BFabric&#43;V2.2.0&#43;%E5%92%8C&#43;V1.1.0&#43;%E8%BF%90%E8%A1%8C%E5%8F%8A%E9%85%8D%E7%BD%AE%E8%AF%B4%E6%98%8E" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  
    



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://jackaugust.github.io/"><img class="avatar mr-3 avatar-circle" src="/zh/authors/admin/avatar_hu94e184e3870ce9fabb02c07288d6ddac_2736741_270x270_fill_q75_lanczos_center.jpg" alt="张杰"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://jackaugust.github.io/">张杰</a></h5>
      <h6 class="card-subtitle">博士生在读（3rd）</h6>
      <p class="card-text">我的研究兴趣在于通过密码学来实现数据的共享安全。具体来说，通过重复性与完整性审计、访问控制和隐私保护，区块链技术等来实现分布式网络下的密文共享安全</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
    <li>
      <a href="mailto:jiezhang@ieee.org" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://orcid.org/0000-0001-8476-0215" target="_blank" rel="noopener">
        <i class="fab fa-orcid"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=-bU124oAAAA" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/JackAugust" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


  
















  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  
  
  
  
  













  
  <p class="powered-by copyright-license-text">
    © 2025 by Jie Zhang
  </p>
  





  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      由<a href="https://hugoblox.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Hugo Blox Builder</a>支持发布——免费<a href="https://github.com/HugoBlox/hugo-blox-builder" target="_blank" rel="noopener">开源</a>网站，为创作者赋能。
    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.938a3a7554cd9f6602290411f64d2617.js"></script>




  

  
  

  






  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js" integrity="" crossorigin="anonymous"></script>








  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  

















<script id="page-data" type="application/json">{"use_headroom":true}</script>


  <script src="/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js" type="module"></script>









  
  


<script src="/zh/js/wowchemy.min.518bbbc3d5ecf39a7d5c0bc784697d60.js"></script>



  <script src="/js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js" type="module"></script>




  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">引用</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> 复制
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> 下载
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.9137013a66774049159934c29c3f0205.js" type="module"></script>


















</body>
</html>
